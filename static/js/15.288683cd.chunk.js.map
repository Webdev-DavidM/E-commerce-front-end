{"version":3,"sources":["Pages/Admin.module.css","Pages/AdminProducts.js"],"names":["module","exports","AdminProducts","componentDidMount","displayCategory","props","delete","id","cat","data","admin","user","deleteProd","createProduct","history","push","chosenCategory","closeModal","logOut","this","categories","products","deletedModal","categoryNames","Object","keys","className","styles","adminproducts","productmodal","product","style","textAlign","productbtn","onClick","continueshoppingbtn","title","createbtn","ordersbtn","logoutbtn","categorybtns","map","productlist","index","productitem","name","price","subcategory","brand","buttoncontainer","_id","editbtn","category","deletebtn","Component","withRouter","connect","state","productDeletedModal","chosenCat","dispatch","getProducts","logUserOut","deleteProduct","closeDeleteModal"],"mappings":"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","file":"static/js/15.288683cd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"adminproducts\":\"Admin_adminproducts__9Z1jq\",\"productmodal\":\"Admin_productmodal__VvgHI\",\"product\":\"Admin_product__1vrmw\",\"productbtn\":\"Admin_productbtn__lAt82\",\"ordersbtn\":\"Admin_ordersbtn__3mNBw\",\"title\":\"Admin_title__2fKp3\",\"categorybtns\":\"Admin_categorybtns__25uVw\",\"createbtn\":\"Admin_createbtn__1mN7q\",\"logoutbtn\":\"Admin_logoutbtn__17zy8\",\"editformcontainer\":\"Admin_editformcontainer__15hb-\",\"productlist\":\"Admin_productlist__1el2J\",\"productitem\":\"Admin_productitem__3Nkz0\",\"buttoncontainer\":\"Admin_buttoncontainer__3C0R5\",\"editbtn\":\"Admin_editbtn__2jH2I\",\"deletebtn\":\"Admin_deletebtn__5nkql\",\"continueshoppingbtn\":\"Admin_continueshoppingbtn__3I7fe\"};","/* NPM packages */\nimport { connect } from 'react-redux';\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\n\n/* CSS */\n\nimport styles from './Admin.module.css';\n\n/* Action creators */\n\nimport { logUserOut } from '../Actions/users.js';\nimport {\n  getProducts,\n  deleteProduct,\n  closeDeleteModal,\n} from '../Actions/products.js';\n\nclass AdminProducts extends Component {\n  componentDidMount = () => {\n    let { displayCategory } = this.props;\n    displayCategory('cycle');\n  };\n\n  delete = (id, cat) => {\n    let data = { id, admin: this.props.user, cat: cat };\n    this.props.deleteProd(data);\n  };\n\n  createProduct = () => {\n    this.props.history.push('/admin/create');\n  };\n\n  chosenCategory = (cat) => {\n    let { displayCategory } = this.props;\n    displayCategory(cat);\n  };\n\n  closeModal = () => {\n    this.props.closeModal();\n  };\n\n  logOut = () => {\n    this.props.logOut();\n    this.props.history.push('/');\n  };\n\n  render() {\n    let { categories, products, deletedModal } = this.props;\n    let categoryNames = Object.keys(categories);\n\n    return (\n      <div className={styles.adminproducts}>\n        {deletedModal && (\n          <div className={styles.productmodal}>\n            <div className={styles.product}>\n              <h2 style={{ textAlign: 'center' }}>\n                {' '}\n                <i className='fas fa-check'></i>\n                &nbsp;Product deleted!\n              </h2>\n\n              <button\n                className={styles.productbtn}\n                onClick={() => this.closeModal()}\n                className={styles.continueshoppingbtn}>\n                Ok\n              </button>\n            </div>\n          </div>\n        )}\n        <header className={styles.title}>\n          <p>ADMIN SECTION</p>\n\n          <button\n            onClick={() => this.createProduct()}\n            className={styles.createbtn}>\n            Create product\n          </button>\n          <button\n            onClick={() => this.props.history.push('/admin-orders')}\n            className={styles.ordersbtn}>\n            View orders\n          </button>\n          <button onClick={() => this.logOut()} className={styles.logoutbtn}>\n            Log out\n          </button>\n        </header>\n        <div className={styles.categorybtns}>\n          <p>CATEGORIES</p>\n          {categoryNames.map((cat) => (\n            <button key={cat} onClick={() => this.chosenCategory(cat)}>\n              {cat}\n            </button>\n          ))}\n        </div>\n        <div className={styles.productlist}>\n          {products.map((product, index) => {\n            return (\n              <div key={index} className={styles.productitem}>\n                <span>Name: {product.name}</span>\n                <span>Price: Â£{product.price}</span>\n                <span>Category: {product.subcategory}</span>\n                <span>Brand: {product.brand}</span>\n                <div className={styles.buttoncontainer}>\n                  <button\n                    onClick={() =>\n                      this.props.history.push(`/admin/product/${product._id}`)\n                    }\n                    className={styles.editbtn}>\n                    Edit\n                  </button>\n                  <button\n                    onClick={() => this.delete(product._id, product.category)}\n                    className={styles.deletebtn}>\n                    Delete\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    products: state.products.products,\n    categories: state.products.categories,\n    user: state.user.user,\n    deletedModal: state.products.productDeletedModal,\n    chosenCat: state.products.chosenCategory,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    displayCategory: (cat) => dispatch(getProducts(cat)),\n    logOut: () => dispatch(logUserOut()),\n    deleteProd: (id) => dispatch(deleteProduct(id)),\n    closeModal: () => dispatch(closeDeleteModal()),\n  };\n};\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(AdminProducts)\n);\n"],"sourceRoot":""}