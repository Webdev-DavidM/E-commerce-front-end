(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[5],{121:function(t,e,n){t.exports={product:"Product_product__Pic6D",title:"Product_title__2Vhmj",price:"Product_price__pibV3",quantityinput:"Product_quantityinput__3EkPH",basketmodal:"Product_basketmodal__L9uv6",basket:"Product_basket__3PI_-",error:"Product_error__37_GV",productinfo:"Product_productinfo__3vfDt",continueshoppingbtn:"Product_continueshoppingbtn__1GdCm",checkoutbtn:"Product_checkoutbtn__2axGv",sizecontainer:"Product_sizecontainer__3mrmO",qtybtn1:"Product_qtybtn1__2mBnT",qtybtn2:"Product_qtybtn2__2Q_FQ",gobackbtn:"Product_gobackbtn__leJnS",qtybtn:"Product_qtybtn__1guil",addtocartbtn:"Product_addtocartbtn__3MjGk",column2:"Product_column2__3W6fM",column1:"Product_column1__23wUu"}},122:function(t,e,n){t.exports={next:"ProductImageCarousel_next__1IO8X",myslides:"ProductImageCarousel_myslides__31_Lb",slideshowcontainer:"ProductImageCarousel_slideshowcontainer__3ZdOu",prev:"ProductImageCarousel_prev__ph80r",dot:"ProductImageCarousel_dot__3Wn3r",active:"ProductImageCarousel_active__8fR8P",imagegallery:"ProductImageCarousel_imagegallery__wkSu4"}},123:function(t,e,n){t.exports={reviewcontainer:"Reviews_reviewcontainer__2hUWQ",reviewdivider:"Reviews_reviewdivider__3p2YE"}},151:function(t,e,n){"use strict";n.r(e);var c=n(1),s=n(17),a=n(18),r=n(20),o=n(19),i=n(0),l=n(12),u=n(7),d=n(121),j=n.n(d),b=n(38),h=n(10),p=n(122),m=n.n(p),f=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(s.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={productId:"",selectedImage:0},t.moveImageByArrow=function(e){return"left"===e&&0!==t.state.selectedImage?t.setState((function(t){return{selectedImage:t.selectedImage-1}})):"right"===e&&t.state.selectedImage!==t.props.product.images.length-1?t.setState((function(t){return{selectedImage:t.selectedImage+1}})):void 0},t.moveImagesByDot=function(e){t.setState((function(t){return{selectedImage:e}}))},t}return Object(a.a)(n,[{key:"render",value:function(){var t=this,e=this.props.product.images,n=e.map((function(e,n){return Object(c.jsx)("span",{className:m.a.dot,onClick:function(){return t.moveImagesByDot(n)},style:n===t.state.selectedImage?{backgroundColor:"#f1c40f"}:null},n)})),s=e.map((function(e,n){return Object(c.jsx)("span",{onClick:function(){return t.moveImagesByDot(n)},style:n===t.state.selectedImage?{border:"3px solid #f1c40f"}:null,children:Object(c.jsx)("img",{src:"".concat("http://localhost:5000","/").concat(e),alt:"hello"})},n)}));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:m.a.slideshowcontainer,children:Object(c.jsxs)("div",{className:"".concat(m.a.myslides," ").concat(m.a.fade),children:[Object(c.jsx)("button",{disabled:0===this.state.selectedImage,className:m.a.prev,onClick:function(){return t.moveImageByArrow("left")},children:Object(c.jsx)("i",{className:"fas fa-angle-left"})}),Object(c.jsx)("img",{src:"".concat("http://localhost:5000","/").concat(e[this.state.selectedImage]),alt:"hello"}),Object(c.jsx)("button",{className:m.a.next,onClick:function(){return t.moveImageByArrow("right")},children:Object(c.jsx)("i",{className:"fas fa-angle-right"})})]})}),Object(c.jsx)("br",{}),Object(c.jsxs)("div",{style:{textAlign:"center"},children:[" ",Object(c.jsx)("i",{className:"fas fa-angle-left"})," \xa0",this.state.selectedImage+1," \xa0 / \xa0 ",e.length," \xa0",Object(c.jsx)("i",{className:"fas fa-angle-right"})]}),Object(c.jsx)(b.a,{query:"(max-width: 768px)",render:function(){return Object(c.jsx)("div",{style:{textAlign:"center"},children:n})}}),Object(c.jsx)(b.a,{query:"(min-width: 768px)",render:function(){return Object(c.jsx)("div",{className:m.a.imagegallery,style:{textAlign:"center"},children:s})}})]})}}]),n}(i.Component),g=Object(h.g)(Object(l.b)((function(t){return{product:t.products.selectedProduct}}))(f)),O=n(109),v=n(108),x=n(110),_=n(123),y=n.n(_),k=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(s.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={showReviews:!1,averageReviewRating:null,stars:[1,2,3,4,5]},t.componentDidMount=function(){var e=t.props.reviews,n=e.length>0?e.reduce((function(t,e){return t+e.rating}),0)/e.length:0;t.setState({averageReviewRating:n})},t}return Object(a.a)(n,[{key:"render",value:function(){var t=this,e=this.props.reviews;return Object(c.jsxs)("div",{className:y.a.reviewcontainer,onClick:function(){return t.setState((function(t){return{showReviews:!t.showReviews}}))},children:[this.state.averageReviewRating&&this.state.stars.map((function(e,n){var s=e<=t.state.averageReviewRating?"#f1c40f":null;return Object(c.jsx)("span",{style:{color:"".concat(s)},children:Object(c.jsx)(O.a,{icon:x.d})},n)})),"\xa0 (",e.length,")",Object(c.jsx)("span",{children:"\xa0Click for review details"}),0===e.length&&Object(c.jsx)("span",{children:"(0) Be the first to review this product"}),Object(c.jsx)(v.a,{in:this.state.showReviews,timeout:400,classNames:"reviews",unmountOnExit:!0,children:Object(c.jsx)("div",{children:e.map((function(e,n){var s=t.state.stars.map((function(t,n){var s=t<=e.rating?"#f1c40f":null;return Object(c.jsx)("span",{style:{color:"".concat(s)},children:Object(c.jsx)(O.a,{icon:x.d})},n)}));return Object(c.jsxs)("div",{children:[Object(c.jsx)("hr",{className:y.a.reviewdivider}),s," by ",e.firstName,Object(c.jsx)("br",{}),e.comment]})}))})})]})}}]),n}(i.Component),w=n(11),P=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(s.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={size:"",showBasketModal:!1,dropdownSelected:!1,quantity:0,error:""},t.selectSize=function(e){t.setState({size:e.target.value,error:""})},t.selectQuantity=function(e){var n=t.props.product;if(""===t.state.size)return t.setState({error:"Please select a size first"});"-"===e&&0!==t.state.quantity&&t.setState((function(t){return{quantity:t.quantity-1,error:""}})),"+"===e&&0!==t.state.size&&(t.state.quantity<n.size[0][t.state.size]?t.setState((function(t){return{quantity:t.quantity+1}})):t.setState({error:"Maximum quantity in ".concat(t.state.size," selected")}))},t.continueShopping=function(){t.setState({showBasketModal:!1})},t.addToBasket=function(){var e=t.props.addProductToBasket;console.log(t.props.basket.length);var n=t.props.product,c=n.images,s=n.price,a=n._id,r=n.name;""!==t.state.size&&0!==t.state.quantity?(e({size:t.state.size,qtyOfSizeInStock:t.props.product.size[0][t.state.size],quantity:t.state.quantity,name:r,id:a,price:s,images:c,localStorageKey:t.props.basket.length}),t.setState({showBasketModal:!0})):t.setState({error:"Please select a size and quantity"})},t.componentDidUpdate=function(e){e.location.pathname!==t.props.match.url&&(0,t.props.getProductFromServer)(e.history.location.pathname.split("/")[2])},t.componentDidMount=function(){(0,t.props.getProductFromServer)(t.props.match.params.id)},t.componentWillUnmount=function(){t.props.clearProduct()},t}return Object(a.a)(n,[{key:"render",value:function(){var t=this,e=this.props.product;console.log(e);var n=this.state.showBasketModal,s=null;if(0!==e.length){var a=Object.keys(e.size[0]);s=Object(c.jsx)(c.Fragment,{children:a.map((function(n,s){return Object(c.jsxs)("option",{value:n,disabled:0===e.size[0][n],onClick:function(e){return t.selectSize(e)},children:[n,"\xa0\xa0\xa0\xa0",e.size[0][n]," in stock"]},s)}))})}return Object(c.jsx)(c.Fragment,{children:e?Object(c.jsxs)("div",{className:j.a.product,children:[n&&Object(c.jsx)("div",{className:j.a.basketmodal,children:Object(c.jsxs)("div",{className:j.a.basket,children:[Object(c.jsxs)("h2",{children:[" ",Object(c.jsx)("i",{className:"fas fa-check"}),"\xa0Added to cart"," "]}),Object(c.jsx)("button",{onClick:function(){return t.continueShopping()},className:j.a.continueshoppingbtn,children:"Continue shopping"}),Object(c.jsx)(u.b,{className:j.a.checkoutbtn,style:{textDecoration:"none",color:"white"},to:"/shopping-basket",children:"Checkout now"})]})}),Object(c.jsx)("p",{className:"{styles.title}"}),0!==e.length&&0!==e.reviews.length?Object(c.jsx)(k,{reviews:e.reviews}):null,Object(c.jsx)("h2",{children:Object(c.jsx)("span",{className:j.a.gobackbtn,onClick:function(){return t.props.history.goBack()},children:"Go back"})}),Object(c.jsx)("hr",{}),0!==e.length&&Object(c.jsx)(g,{images:e.images}),Object(c.jsxs)("div",{className:j.a.productinfo,children:[Object(c.jsxs)("div",{className:j.a.column1,children:[" ",Object(c.jsxs)("p",{className:j.a.price,children:["\xa3",e.price]}),e.colour&&Object(c.jsxs)("p",{children:["colour: ",e.colour]}),Object(c.jsx)("div",{children:e.name}),Object(c.jsx)("div",{className:j.a.sizecontainer,children:Object(c.jsxs)("form",{onClick:function(){return t.setState((function(t){return{dropdownSelected:!t.dropdownSelected}}))},children:[""!==this.state.size?Object(c.jsx)("span",{children:this.state.size}):Object(c.jsx)("span",{children:"Please select"})," ",!this.state.dropdownSelected&&Object(c.jsx)("span",{children:Object(c.jsx)("i",{className:"fas fa-arrow-down"})}),this.state.dropdownSelected&&s]})}),Object(c.jsx)("br",{}),Object(c.jsxs)("div",{className:j.a.quantity,children:[Object(c.jsx)("form",{children:"Quantity:"}),Object(c.jsx)("button",{className:j.a.qtybtn1,onClick:function(){return t.selectQuantity("-")},children:"-"}),Object(c.jsx)("input",{class:"quantityinput",onChange:function(e){return t.setState({quantity:e.target.value})},value:this.state.quantity,className:j.a.quantityinput,type:"input"}),Object(c.jsx)("button",{className:j.a.qtybtn2,onClick:function(){return t.selectQuantity("+")},children:"+"}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),0!==e.stock?Object(c.jsxs)("span",{style:{color:"red"},children:["Hurry only ",e.stock," left in stock"]}):Object(c.jsx)("span",{style:{color:"red"},children:"Sorry out of stock"})]}),Object(c.jsxs)("button",{onClick:function(){return t.addToBasket()},className:j.a.addtocartbtn,children:[" ",Object(c.jsx)("i",{className:"fas fa-shopping-cart",style:{width:"1rem",height:"1rem"},children:" "}),"\xa0 \xa0Add to Basket"]}),this.state.error&&Object(c.jsx)("div",{className:j.a.error,children:this.state.error})]}),Object(c.jsx)("div",{className:j.a.column2,children:Object(c.jsx)("h3",{children:e.description})})]})]}):null})}}]),n}(i.Component);e.default=Object(l.b)((function(t){return{product:t.products.selectedProduct,basket:t.products.basket}}),(function(t){return{addProductToBasket:function(e){return t(Object(w.a)(e))},getProductFromServer:function(e){return t(Object(w.m)(e))},clearProduct:function(){return t(t(Object(w.e)()))}}}))(P)}}]);
//# sourceMappingURL=5.08c8ba9a.chunk.js.map