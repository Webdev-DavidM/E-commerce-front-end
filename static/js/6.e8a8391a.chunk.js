/*! For license information please see 6.e8a8391a.chunk.js.LICENSE.txt */
(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[6],{111:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return l}));var r=n(12),c=n.n(r),a=n(25),s=n(26),o=n.n(s),i=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"ORDER_SENT"}),t.prev=1,t.next=4,o()({method:"post",url:"".concat("","/orders/new-order"),data:{orderInfo:e},headers:{token:e.token}});case 4:201===(r=t.sent).status&&n({type:"ORDER_SUCCESS",products:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0.request&&0===t.t0.request.status&&n({type:"ORDER_FAIL",error:"Network error, please try again"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},u=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=JSON.parse(localStorage.getItem("userInfo")),n({type:"ORDER_SENT"}),t.prev=2,t.next=5,o()({method:"get",url:"".concat("","/orders/order/").concat(e),headers:{token:r.token,userId:r.id}});case 5:200===(a=t.sent).status&&n({type:"INDIVDUAL_ORDER_SUCCESS",order:a.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),n({type:"ORDER_FAIL",error:t.t0.response.data});case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e){var t=e.token,n=e.user;return function(){var e=Object(a.a)(c.a.mark((function e(r){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:"ORDER_SENT"}),e.prev=1,e.next=4,o()({method:"get",url:"".concat("","/orders/").concat(n),headers:{token:t}});case 4:200===(a=e.sent).status&&r({type:"ORDER_LIST_RECEIVED",orders:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r({type:"ORDER_FAIL",error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},l=function(){return{type:"CLOSE_MODAL"}}},138:function(e,t,n){var r;!function(n){"use strict";var c={},a={},s={},o="en",i={MMMM:["January","February","March","April","May","June","July","August","September","October","November","December"],MMM:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dddd:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ddd:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dd:["Su","Mo","Tu","We","Th","Fr","Sa"],A:["AM","PM"]},u={YYYY:function(e){return("000"+e.getFullYear()).slice(-4)},YY:function(e){return("0"+e.getFullYear()).slice(-2)},Y:function(e){return""+e.getFullYear()},MMMM:function(e){return this.res.MMMM[e.getMonth()]},MMM:function(e){return this.res.MMM[e.getMonth()]},MM:function(e){return("0"+(e.getMonth()+1)).slice(-2)},M:function(e){return""+(e.getMonth()+1)},DD:function(e){return("0"+e.getDate()).slice(-2)},D:function(e){return""+e.getDate()},HH:function(e){return("0"+e.getHours()).slice(-2)},H:function(e){return""+e.getHours()},A:function(e){return this.res.A[e.getHours()>11|0]},hh:function(e){return("0"+(e.getHours()%12||12)).slice(-2)},h:function(e){return""+(e.getHours()%12||12)},mm:function(e){return("0"+e.getMinutes()).slice(-2)},m:function(e){return""+e.getMinutes()},ss:function(e){return("0"+e.getSeconds()).slice(-2)},s:function(e){return""+e.getSeconds()},SSS:function(e){return("00"+e.getMilliseconds()).slice(-3)},SS:function(e){return("0"+(e.getMilliseconds()/10|0)).slice(-2)},S:function(e){return""+(e.getMilliseconds()/100|0)},dddd:function(e){return this.res.dddd[e.getDay()]},ddd:function(e){return this.res.ddd[e.getDay()]},dd:function(e){return this.res.dd[e.getDay()]},Z:function(e){return e.utc?"+0000":/[\+-]\d{4}/.exec(e.toTimeString())[0]},post:function(e){return e}},d={YYYY:function(e){return this.exec(/^\d{4}/,e)},Y:function(e){return this.exec(/^\d{1,4}/,e)},MMMM:function(e){var t=this.find(this.res.MMMM,e);return t.value++,t},MMM:function(e){var t=this.find(this.res.MMM,e);return t.value++,t},MM:function(e){return this.exec(/^\d\d/,e)},M:function(e){return this.exec(/^\d\d?/,e)},DD:function(e){return this.exec(/^\d\d/,e)},D:function(e){return this.exec(/^\d\d?/,e)},HH:function(e){return this.exec(/^\d\d/,e)},H:function(e){return this.exec(/^\d\d?/,e)},A:function(e){return this.find(this.res.A,e)},hh:function(e){return this.exec(/^\d\d/,e)},h:function(e){return this.exec(/^\d\d?/,e)},mm:function(e){return this.exec(/^\d\d/,e)},m:function(e){return this.exec(/^\d\d?/,e)},ss:function(e){return this.exec(/^\d\d/,e)},s:function(e){return this.exec(/^\d\d?/,e)},SSS:function(e){return this.exec(/^\d{1,3}/,e)},SS:function(e){var t=this.exec(/^\d\d?/,e);return t.value*=10,t},S:function(e){var t=this.exec(/^\d/,e);return t.value*=100,t},Z:function(e){var t=this.exec(/^[\+-]\d{2}[0-5]\d/,e);return t.value=-60*(t.value/100|0)-t.value%100,t},h12:function(e,t){return(12===e?0:e)+12*t},exec:function(e,t){var n=(e.exec(t)||[""])[0];return{value:0|n,length:n.length}},find:function(e,t){for(var n,r=-1,c=0,a=0,s=e.length;a<s;a++)n=e[a],!t.indexOf(n)&&n.length>c&&(r=a,c=n.length);return{value:r,length:c}},pre:function(e){return e}},l=function(e,t,n){var r=function(e,t,n){var r=function(e){e&&(this.res=e)};(r.prototype=e).constructor=r;var c,a=new r(n);for(var s in t||{})c=t[s],a[s]=c.slice?c.slice():c;return a},c={res:r(t.res,n.res)};c.formatter=r(t.formatter,n.formatter,c.res),c.parser=r(t.parser,n.parser,c.res),a[e]=c};c.compile=function(e){for(var t,n=/\[([^\[\]]|\[[^\[\]]*])*]|([A-Za-z])\2+|\.{3}|./g,r=[e];t=n.exec(e);)r[r.length]=t[0];return r},c.format=function(e,t,n){var r="string"===typeof t?c.compile(t):t,s=c.addMinutes(e,n?e.getTimezoneOffset():0),i=a[o].formatter,u="";s.utc=n||!1;for(var d,l=1,h=r.length;l<h;l++)u+=i[d=r[l]]?i.post(i[d](s,r[0])):d.replace(/\[(.*)]/,"$1");return u},c.preparse=function(e,t){var n="string"===typeof t?c.compile(t):t,r={Y:1970,M:1,D:1,H:0,A:0,h:0,m:0,s:0,S:0,Z:0,_index:0,_length:0,_match:0},s=/\[(.*)]/,i=a[o].parser,u=0;e=i.pre(e);for(var d,l,h=1,f=n.length;h<f;h++)if(i[d=n[h]]){if(!(l=i[d](e.slice(u),n[0])).length)break;u+=l.length,r[d.charAt(0)]=l.value,r._match++}else if(d===e.charAt(u)||" "===d)u++;else{if(!s.test(d)||e.slice(u).indexOf(s.exec(d)[1])){if("..."===d){u=e.length;break}break}u+=d.length-2}return r.H=r.H||i.h12(r.h,r.A),r._index=u,r._length=e.length,r},c.isValid=function(e,t){var n="string"===typeof e?c.preparse(e,t):e,r=[31,28+c.isLeapYear(n.Y)|0,31,30,31,30,31,31,30,31,30,31][n.M-1];return!(n._index<1||n._length<1||n._index-n._length||n._match<1||n.Y<1||n.Y>9999||n.M<1||n.M>12||n.D<1||n.D>r||n.H<0||n.H>23||n.m<0||n.m>59||n.s<0||n.s>59||n.S<0||n.S>999||n.Z<-720||n.Z>840)},c.parse=function(e,t,n){var r=c.preparse(e,t);return c.isValid(r)?(r.M-=r.Y<100?22801:1,n||r.Z?new Date(Date.UTC(r.Y,r.M,r.D,r.H,r.m+r.Z,r.s,r.S)):new Date(r.Y,r.M,r.D,r.H,r.m,r.s,r.S)):new Date(NaN)},c.transform=function(e,t,n,r){return c.format(c.parse(e,t),n,r)},c.addYears=function(e,t){return c.addMonths(e,12*t)},c.addMonths=function(e,t){var n=new Date(e.getTime());return n.setMonth(n.getMonth()+t),n},c.addDays=function(e,t){var n=new Date(e.getTime());return n.setDate(n.getDate()+t),n},c.addHours=function(e,t){return c.addMinutes(e,60*t)},c.addMinutes=function(e,t){return c.addSeconds(e,60*t)},c.addSeconds=function(e,t){return c.addMilliseconds(e,1e3*t)},c.addMilliseconds=function(e,t){return new Date(e.getTime()+t)},c.subtract=function(e,t){var n=e.getTime()-t.getTime();return{toMilliseconds:function(){return n},toSeconds:function(){return n/1e3},toMinutes:function(){return n/6e4},toHours:function(){return n/36e5},toDays:function(){return n/864e5}}},c.isLeapYear=function(e){return!(e%4)&&!!(e%100)||!(e%400)},c.isSameDay=function(e,t){return e.toDateString()===t.toDateString()},c.locale=function(e,t){return t?l(e,{res:i,formatter:u,parser:d},t):"function"===typeof e?o=e(c):e&&(n&&!n.date&&console.warn("This method of changing the locale is deprecated. See documentation for details."),o=e),o},c.extend=function(e){var t=e.extender||{};for(var n in t)c[n]||(c[n]=t[n]);(e.formatter||e.parser||e.res)&&l(o,a[o],e)},c.plugin=function(e,t){"function"===typeof e?c.extend(s[e(c)]):(s[e]=s[e]||t,!t&&s[e]&&(c.extend(s[e]),n&&!n.date&&console.warn("This method of applying plugins is deprecated. See documentation for details.")))},c.locale(o,{}),"object"===typeof e.exports?e.exports=c:void 0===(r=function(){return c}.apply(t,[]))||(e.exports=r)}(this)},139:function(e,t,n){e.exports={checkoutcontainer:"Checkout_checkoutcontainer__REoAB",ordermodal:"Checkout_ordermodal__jUQhl",orderbtn:"Checkout_orderbtn__ua6EP",continueshoppingbtn:"Checkout_continueshoppingbtn__3b7xu",gobackbtn:"Checkout_gobackbtn__2Iz0X",deliveryaddress:"Checkout_deliveryaddress__2PgdP",itemcontainer:"Checkout_itemcontainer__W7T8z",details:"Checkout_details__2EE4Q",imagecontainer:"Checkout_imagecontainer__4V_oq",itemdetails:"Checkout_itemdetails__2Cq9v"}},149:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(15),a=n(16),s=n(18),o=n(17),i=n(1),u=n(11),d=n(6),l=n(9),h=n(138),f=n.n(h),p=n(139),m=n.n(p),b=n(10),g=n(111),j=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).componentDidMount=function(){var t=e.props,n=t.basket,r=t.addBasket;0!==n.length&&(Object.keys(localStorage).map((function(e){return"userInfo"!==e&&localStorage.removeItem("".concat(e))})),n.map((function(e,t){return localStorage.setItem("item".concat(t),JSON.stringify(e))})));var c=Object.keys(localStorage).map((function(e){return JSON.parse(localStorage.getItem("".concat(e)))}));0===n.length&&c&&c.map((function(e){return void 0===e.firstName&&r(e)}))},e.placeOrder=function(){var t=e.props,n=t.userDetails,r=t.basket,c=t.basketTotal,a=t.sendOrder,s=c();s=s.Total;var o=new Date;a({date:f.a.format(o,"YYYY/MM/DD HH:mm:ss"),userId:n.id,orderItems:r,total:s,status:"ordered",token:n.token})},e.closeModal=function(){var t=e.props,n=t.clearBasket,r=t.clearModal;e.props.error||(n(),Object.keys(localStorage).map((function(e){return"userInfo"!==e&&localStorage.removeItem("".concat(e))})),r(),e.props.history.push("/"));r()},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props.userDetails,n=t.firstName,c=t.lastName,a=t.address,s=this.props,o=s.basket,i=(0,s.basketTotal)();return Object(r.jsxs)("div",{className:m.a.checkoutcontainer,children:[this.props.showModal?Object(r.jsx)("div",{className:m.a.ordermodal,children:Object(r.jsxs)("div",{className:m.a.basket,children:[Object(r.jsxs)("h2",{children:[" ",Object(r.jsx)("i",{className:"fas fa-check"}),"\xa0",this.props.error?Object(r.jsx)("span",{children:"Order failed!Please try again"}):Object(r.jsx)("span",{children:"Order confirmed!"})]}),Object(r.jsx)("button",{onClick:function(){return e.closeModal()},className:m.a.continueshoppingbtn,children:this.props.error?Object(r.jsx)("span",{children:"Try again"}):Object(r.jsx)("span",{children:"Continue shopping"})}),Object(r.jsx)(d.b,{className:m.a.checkoutbtn,style:{textDecoration:"none",color:"white"},to:"/orders",children:"View orders"})]})}):null,Object(r.jsx)("h2",{children:Object(r.jsx)("span",{className:m.a.gobackbtn,onClick:function(){return e.props.history.goBack()},children:"Go back"})}),Object(r.jsx)("h2",{children:"Summary"}),Object(r.jsx)("hr",{}),Object(r.jsxs)("div",{className:m.a.deliveryaddress,children:[Object(r.jsx)("h4",{children:"Delivery"}),Object(r.jsxs)("span",{children:[Object(r.jsx)("strong",{children:" Delivering to:"}),"\xa0",a]}),Object(r.jsx)("h4",{children:"Name"}),Object(r.jsxs)("span",{children:[Object(r.jsx)("strong",{children:" Delivering to:"}),"\xa0 ",n," ",c]}),Object(r.jsx)("h4",{children:"Payment method"}),Object(r.jsx)("span",{children:"paypal and stripe needs to happen here"})]}),Object(r.jsx)("div",{className:m.a.paymentmethod}),Object(r.jsx)("div",{className:m.a.ordersummary,children:Object(r.jsxs)("div",{className:m.a.itemcontainer,children:[o.map((function(e,t){return Object(r.jsxs)("div",{className:m.a.details,children:[Object(r.jsx)("div",{className:m.a.imagecontainer,children:Object(r.jsx)("img",{src:"https://my-ecommerce-site-fitness.herokuapp.com/".concat(e.images[0]),alt:""})}),Object(r.jsxs)("div",{className:m.a.itemdetails,children:[Object(r.jsxs)("div",{style:{width:"40%"},children:[" ",Object(r.jsx)("span",{children:e.name})]}),Object(r.jsxs)("div",{style:{width:"20%"},children:[" ",Object(r.jsxs)("span",{children:["Size:\xa0",e.size]})]}),Object(r.jsxs)("div",{style:{width:"15%"},children:[" ",Object(r.jsxs)("span",{children:["Quantity:\xa0",e.quantity]})]}),Object(r.jsxs)("div",{style:{width:"15%"},children:[" ",Object(r.jsxs)("span",{children:["Price: \xa3",e.price]})]})]})]},t)})),Object(r.jsx)("div",{className:m.a.priceandquanity}),Object(r.jsxs)("h3",{className:m.a.itemcost,children:["Total: \xa3",i.Total]}),Object(r.jsx)("span",{className:m.a.orderbtn,onClick:function(){return e.placeOrder()},children:"Place order"})]})})]})}}]),n}(i.Component);t.default=Object(l.g)(Object(u.b)((function(e){return{userDetails:e.user.user,showModal:e.orders.showOrdersModal,basket:e.products.basket,error:e.orders.errors,basketTotal:function(){var t=0;return 0!==e.products.basket.length&&(t=e.products.basket.map((function(e){return e.price*e.quantity})).reduce((function(e,t){return e+t}))),{Total:t}}}}),(function(e){return{addBasket:function(t){return e(Object(b.a)(t))},sendOrder:function(t){return e(Object(g.d)(t))},clearBasket:function(){return e(Object(b.g)())},clearModal:function(){return e(Object(g.a)())}}}))(j))}}]);
//# sourceMappingURL=6.e8a8391a.chunk.js.map