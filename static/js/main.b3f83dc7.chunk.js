(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[1],{11:function(e,t,r){"use strict";r.d(t,"n",(function(){return l})),r.d(t,"q",(function(){return d})),r.d(t,"m",(function(){return p})),r.d(t,"A",(function(){return b})),r.d(t,"c",(function(){return j})),r.d(t,"r",(function(){return O})),r.d(t,"d",(function(){return h})),r.d(t,"s",(function(){return g})),r.d(t,"t",(function(){return f})),r.d(t,"v",(function(){return m})),r.d(t,"w",(function(){return _})),r.d(t,"z",(function(){return E})),r.d(t,"e",(function(){return v})),r.d(t,"a",(function(){return S})),r.d(t,"D",(function(){return y})),r.d(t,"x",(function(){return C})),r.d(t,"y",(function(){return w})),r.d(t,"u",(function(){return x})),r.d(t,"o",(function(){return T})),r.d(t,"b",(function(){return D})),r.d(t,"j",(function(){return R})),r.d(t,"l",(function(){return N})),r.d(t,"p",(function(){return I})),r.d(t,"B",(function(){return L})),r.d(t,"g",(function(){return k})),r.d(t,"f",(function(){return P})),r.d(t,"k",(function(){return A})),r.d(t,"i",(function(){return U})),r.d(t,"E",(function(){return M})),r.d(t,"h",(function(){return B})),r.d(t,"C",(function(){return F}));var n=r(61),a=r(6),c=r.n(a),o=r(2),s=r(15),i=r(13),u=r.n(i),l=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(r){var n,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"PRODUCTS_REQUESTED"}),t.prev=1,t.next=4,u()("".concat("http://localhost:5000","/products/").concat(e));case 4:200===(n=t.sent).status&&(a=n.data.map((function(e){if(0===e.reviews.length)return Object(o.a)(Object(o.a)({},e),{},{rating:0});if(1===e.reviews.length)return Object(o.a)(Object(o.a)({},e),{},{rating:e.reviews[0].rating});var t=e.reviews.length,r=e.reviews.reduce((function(e,t){return e+t.rating}),0)/t;return Object(o.a)(Object(o.a)({},e),{},{rating:r})})),r({type:"PRODUCTS_SUCCESS",products:a})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),r({type:"PRODUCTS_FAIL",error:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},d=function(){return function(){var e=Object(s.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"ALLPRODUCTS_STARTED"}),e.prev=1,e.next=4,u()("".concat("http://localhost:5000","/products/all"));case 4:200===(r=e.sent).status&&t({type:"ALLPRODUCTS_SUCCESS",products:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"ALLPRODUCTS_FAIL",error:e.t0.response||e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(r){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"PRODUCTS_REQUESTED"}),t.prev=1,t.next=4,u()("".concat("http://localhost:5000","/products/product/").concat(e));case 4:200===(n=t.sent).status&&r({type:"PRODUCT_SUCCESS",product:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),r({type:"PRODUCTS_FAIL",error:t.t0.response||t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){var t=e.productId,r=Object(n.a)(e,["productId"]);return function(){var e=Object(s.a)(c.a.mark((function e(n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"REVIEW_SENT"}),e.prev=1,e.next=4,u()({method:"post",url:"".concat("http://localhost:5000","/products/review/").concat(t),data:{data:r}});case 4:200===(a=e.sent).status&&n({type:"REVIEW_SUCCESS",product:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n({type:"REVIEW_FAIL",error:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},j=function(){return{type:"CLEAR_PRODUCTS"}},O=function(e){return{type:"SEARCH_PRODUCTS",searchValue:e}},h=function(){return{type:"CLEAR_REVIEW_STATUS"}},g=function(e){return{type:"CATEGORY_CHOSEN",category:e}},f=function(e){return{type:"SHOW_DROP_DOWN",bool:e}},m=function(e){return{type:"SHOW_SIDE_MENU",bool:e}},_=function(e){return{type:"SHOW_SUB_CATEGORY",bool:e}},E=function(e){return{type:"SUB_CAT_SELECTED",subcat:e}},v=function(){return{type:"CLEAR_SELECTED_PRODUCTS"}},S=function(e){return{type:"ADD_TO_BASKET",itemInfo:e}},y=function(e,t){return{type:"UPDATE_BASKET",noPos:e,quantity:t}},C=function(e){return{type:"SORT_BY_BEST_REVIEWS",products:e.map((function(e){if(0===e.reviews.length)return Object(o.a)(Object(o.a)({},e),{},{rating:0});if(1===e.reviews.length)return Object(o.a)(Object(o.a)({},e),{},{rating:e.rating});var t=e.reviews.length,r=e.reviews.reduce((function(e,t){return e+t.rating}),0);return Object(o.a)(Object(o.a)({},e),{},{rating:r/t})})).sort((function(e,t){return e.rating<t.rating?1:-1}))}},w=function(e,t){return{type:"FILTER_PRICE_RANGE",lower:e,higher:t}},x=function(){return{type:"FILTERED_IN_STOCK"}},T=function(e){return{type:"FILTERED_BRANDS",brands:e}},D=function(e){return l(),{type:"CHOSEN_BRAND",brand:e}},R=function(e){return{type:"DELETE_ITEM_FROM_BASKET",id:e.id,size:e.size}},N=function(e){return{type:"EMPTY_BASKET"}},I=function(e){return{type:"RESET_ALL_FILTERS",bool:e}},L=function(e){return{type:"UPDATE_PRICE_RANGE",price:e.price,higher:e.higher}},k=function(){return{type:"CLOSE_ADMIN_PRODUCT_MODAL"}},P=function(e){return{type:"CLOSE_ADMIN_DELETE_MODAL",category:e}},A=function(e){var t=e.id,r=e.admin,n=e.cat;return function(){var e=Object(s.a)(c.a.mark((function e(a){var o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"DELETE_PRODUCT"}),e.prev=1,o={headers:{email:r.email,token:r.token}},e.next=5,u.a.delete("http://localhost:5000/adminuser/delete/".concat(t),o);case 5:204===(s=e.sent).status&&(console.log(s.data),a({type:"PRODUCT_DELETED_SUCCESS",productId:s.data._id}),a(l(n))),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.request.response||e.t0.message.response),a({type:"PRODUCTS_DELETED_FAIL",error:e.t0.response||e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},U=function(e){var t=e.index,r=e.id,n=e.admin;return console.log(n.token),function(){var e=Object(s.a)(c.a.mark((function e(a){var o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"DELETE_PRODUCT"}),e.prev=1,o={headers:{email:n.email,token:n.token,index:t}},e.next=5,u.a.delete("http://localhost:5000/adminuser/deleteimage/".concat(r),o);case 5:201===(s=e.sent).status&&(console.log(s),a({type:"PRODUCT_DELETED_SUCCESS",productId:s.data._id}),a(p(r))),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.request.response||e.t0.message.response),a({type:"PRODUCTS_DELETED_FAIL",error:e.t0.response||e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},M=function(e){var t=e.formData,r=e.admin,n=e.id;return u.a.post("https://httpbin.org/anything",t).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),console.log(n),function(){var e=Object(s.a)(c.a.mark((function e(a){var o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o={headers:{"Content-Type":"multipart/form-data",email:r.email,token:r.token}},e.next=4,u.a.post("http://localhost:5000/adminuser/addimage/".concat(n),t,o);case 4:201===(s=e.sent).status&&(console.log(s),a({type:"PRODUCT_DELETED_SUCCESS",productId:s.data._id}),a(p(n))),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.request.response||e.t0.message.response),a({type:"PRODUCTS_DELETED_FAIL",error:e.t0.response||e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},B=function(e){var t=e.admin,r=e.formData;return function(){var e=Object(s.a)(c.a.mark((function e(n){var a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"CREATE_PRODUCT"}),e.prev=1,a={headers:{"Content-Type":"multipart/form-data",email:t.email,token:t.token}},e.next=5,u.a.post("http://localhost:5000/adminuser/create",r,a);case 5:201===(o=e.sent).status&&(console.log(o.data),n({type:"PRODUCT_CREATED_SUCCESS",productId:o.data._id})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.request.response||e.t0.message.response),n({type:"PRODUCTS_CREATED_FAIL",error:e.t0.response||e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},F=function(e){var t=e.admin,r=e.data,n=e.productId;return function(){var e=Object(s.a)(c.a.mark((function e(a){var o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o={headers:{email:t.email,token:t.token}},e.next=4,u.a.put("http://localhost:5000/adminuser/update/".concat(n),r,o);case 4:201===(s=e.sent).status&&(console.log(s.data),a({type:"PRODUCT_EDITED_SUCCESS",productId:s.data._id})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.request.response||e.t0.message.response),a({type:"PRODUCTS_EDITED_FAIL",error:e.t0.response||e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}},24:function(e,t,r){e.exports={landingpage:"LandingPage_landingpage__1iu_j",title2:"LandingPage_title2__1sZp1",mainimagemobile:"LandingPage_mainimagemobile__35TLt",mainimagedesktop:"LandingPage_mainimagedesktop__JYoUa",running:"LandingPage_running__3KYBq",catdetailsrunning:"LandingPage_catdetailsrunning__2wJsu",cycling:"LandingPage_cycling__1rmui",catdetailscycling:"LandingPage_catdetailscycling__1jP-c",swimming:"LandingPage_swimming___Du1A",catdetailsswimming:"LandingPage_catdetailsswimming__1iHId",outdoor:"LandingPage_outdoor__3gm-W",catdetailsoutdoor:"LandingPage_catdetailsoutdoor__uW9DF"}},28:function(e,t,r){"use strict";r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return u})),r.d(t,"d",(function(){return l})),r.d(t,"a",(function(){return p}));var n=r(6),a=r.n(n),c=r(15),o=r(13),s=r.n(o),i=function(e,t){return function(){var r=Object(c.a)(a.a.mark((function r(n){var c;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n(d()),r.prev=1,r.next=4,s()({method:"post",url:"".concat("http://localhost:5000","/users/login"),data:{email:e,password:t}});case 4:202===(c=r.sent).status&&(n({type:"LOGIN_SUCCESS",user:c.data}),b(c.data)),401===c.status&&n({type:"LOGIN_FAIL",error:c.data}),r.next=14;break;case 9:r.prev=9,r.t0=r.catch(1),console.log(r.t0),r.t0.request&&0===r.t0.request.status&&n({type:"LOGIN_FAIL",error:"Network error, please try again"}),r.t0.request&&401===r.t0.request.status&&n({type:"LOGIN_FAIL",error:"Unauthorised"});case 14:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}()},u=function(){return localStorage.removeItem("userInfo"),{type:"USER_LOGGED_OUT"}},l=function(e){var t=e.email,r=e.address,n=e.password,o=e.lastName,i=e.firstName;return function(){var e=Object(c.a)(a.a.mark((function e(c){var u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(d()),e.prev=1,e.next=4,s()({method:"post",url:"".concat("http://localhost:5000","/users/register"),data:{email:t,password:n,firstName:i,lastName:o,address:r,reviews:[]}});case 4:201===(u=e.sent).status&&(console.log(u.data),c({type:"LOGIN_SUCCESS",user:u.data}),b(u.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0.request&&0===e.t0.request.status&&c({type:"LOGIN_FAIL",error:"Network error, please try again"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},d=function(){return{type:"LOGIN_STARTED"}},p=function(){var e=null,t=JSON.parse(localStorage.getItem("userInfo"));if(t){var r=(new Date).getTime(),n=Object.entries(t).filter((function(e){return"seconds"===e[0]}));return parseInt(n[0][1])+36e5<parseInt(r)?localStorage.removeItem("userInfo"):e=t,e}},b=function(e){localStorage.setItem("userInfo",JSON.stringify(e))}},4:function(e,t,r){e.exports={navbar:"NavBar_navbar__3L-WI",user:"NavBar_user__3iNNw",admin:"NavBar_admin__2yTRL",cart:"NavBar_cart__3X5Br",searchitem:"NavBar_searchitem__38Pze",logo:"NavBar_logo__2b9K_",search:"NavBar_search__27muG",results:"NavBar_results__2BT58",searchicon:"NavBar_searchicon__37RA9",cartdesktop:"NavBar_cartdesktop__--zPI",menu:"NavBar_menu__35aKG",store:"NavBar_store__1WRDm",links:"NavBar_links__VaUPB",categorylinks:"NavBar_categorylinks__25Tg4",sidemenu:"NavBar_sidemenu__ZDTA6",closebutton:"NavBar_closebutton__1kh64",sidecategories:"NavBar_sidecategories__eaHBo",sidesubcategories:"NavBar_sidesubcategories__2OaXd",categoryItem:"NavBar_categoryItem__2B6Yz",categoryItemMove:"NavBar_categoryItemMove__2rkby",dropdown:"NavBar_dropdown__HEr5k",categories:"NavBar_categories__hVmMN",subcategories:"NavBar_subcategories__7D0zJ",categoryImage:"NavBar_categoryImage__bQaQA"}},53:function(e,t,r){e.exports={shopbutton:"ShopButton_shopbutton__2O7W3"}},94:function(e,t,r){},95:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r(0),c=r(27),o=r.n(c),s=r(17),i=r(18),u=r(20),l=r(19),d=r(7),p=r(10),b=r(24),j=r.n(b),O=r(53),h=r.n(O),g=function(e){var t=e.url,r=e.name,a=e.width,c=e.height;return Object(n.jsx)("div",{className:h.a.shopbutton,style:{width:"".concat(a),height:"".concat(c)},children:Object(n.jsxs)(d.b,{to:"".concat(t),children:[r," "]})})},f=function(){return Object(n.jsxs)("div",{className:j.a.landingpage,children:[Object(n.jsxs)("header",{children:["THE UK'S ",Object(n.jsx)("span",{children:"\xa0 NO.1 \xa0"})," ONLINE FITNESS STORE"]}),Object(n.jsx)("div",{className:j.a.mainimagemobile,children:Object(n.jsx)("img",{src:"".concat("/E-commerce-front-end","/images/cycling-desktop.jpg"),alt:"Man on a bike smiling"})}),Object(n.jsx)("div",{className:j.a.mainimagedesktop,children:Object(n.jsx)("img",{src:"".concat("/E-commerce-front-end","/images/cycling-desktop.jpg"),alt:"Woman on a bike riding"})}),Object(n.jsxs)("header",{className:j.a.title2,children:[Object(n.jsxs)("strong",{children:["DM Sports ",Object(n.jsx)("span",{children:" + \xa0"})]}),"NEXT DAY DELIVERY AND FREE RETURNS FOR ONLY \xa0"," ",Object(n.jsx)("strong",{children:"\xa39.99"}),Object(n.jsx)("div",{children:Object(n.jsx)(g,{url:"/run",name:"SHOP NOW",width:"8rem"})})]}),Object(n.jsxs)("div",{className:j.a.running,children:[Object(n.jsx)("img",{src:"".concat("/E-commerce-front-end","/images/running-montage.png"),alt:"Man running and red running jacket"}),Object(n.jsxs)("div",{className:j.a.catdetailsrunning,children:[" ",Object(n.jsx)("p",{children:"RUN"}),Object(n.jsx)(g,{url:"/run",name:"SHOP"})]})]}),Object(n.jsxs)("div",{className:j.a.cycling,children:[Object(n.jsx)("img",{src:"".concat("/E-commerce-front-end","/images/cycling-montage.png"),alt:"cyclist smiling and bike"}),Object(n.jsxs)("div",{className:j.a.catdetailscycling,children:[" ",Object(n.jsx)("p",{children:"CYCLE"}),Object(n.jsx)(g,{url:"/cycle",name:"SHOP"})]})]}),Object(n.jsxs)("div",{className:j.a.swimming,children:[Object(n.jsx)("img",{src:"".concat("/E-commerce-front-end","/images/swimming-montage.png"),alt:"woman swimming and a swim suit"}),Object(n.jsxs)("div",{className:j.a.catdetailsswimming,children:[" ",Object(n.jsx)("p",{children:"SWIM"}),Object(n.jsx)(g,{url:"/swim",name:"SHOP"})]})]})]})},m=r(38),_=r(108),E=r(12),v=r(4),S=r.n(v),y=function(){return Object(n.jsx)("div",{className:S.a.logo,children:Object(n.jsx)(d.c,{to:"/",children:Object(n.jsx)("img",{src:"https://webdev-davidm.github.io/E-commerce-front-end/images/logo.png",alt:"DM sports logo"})})})},C=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){var e=this.props,t=e.basketValue,r=e.basketNumber,a=t().Total,c=0!==r.length&&Object(n.jsxs)("span",{children:["\xa0",a,"\xa0\xa0(",r,")"]});return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:S.a.cartdesktop,style:{width:"5rem",height:"2rem",color:"#2980b9"},children:Object(n.jsxs)(d.b,{to:"/shopping-basket",color:"red",children:[Object(n.jsx)("i",{className:"fas fa-shopping-cart",style:{width:"0.9rem",height:"0.9rem"},children:" "}),c]})}),Object(n.jsxs)("div",{className:S.a.cart,style:{width:"1.5rem",height:"1.5rem"},children:[" ",Object(n.jsx)(d.b,{to:"/shopping-basket",children:Object(n.jsx)("i",{color:"#2980b9",className:"fas fa-shopping-cart",style:{width:"100%",height:"100%"},children:" "})})," ",Object(n.jsx)("span",{children:r})]})]})}}]),r}(a.Component),w=Object(E.b)((function(e){return{basketNumber:e.products.basket.length,basketValue:function(){var t=0;return 0!==e.products.basket.length&&(t=e.products.basket.map((function(e){return e.price*e.quantity})).reduce((function(e,t){return e+t}))),{Total:t}}}}))(C),x=r(11),T=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={showResults:!1,input:""},e.componentDidMount=function(){e.props.getProducts()},e.userInput=function(t){e.setState((function(e){return{showResults:!0,input:t.target.value}})),t.target.value.length>1&&e.props.search(t.target.value),0===t.target.value.length&&(e.props.getProducts(),e.setState({showResults:!1})),e.state.input.length>t.target.value.length&&e.props.search(t.target.value)},e.selectedItem=function(t){e.setState({showResults:!1,input:""}),e.props.history.push("/product/".concat(t))},e}return Object(i.a)(r,[{key:"render",value:function(){var e=this;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:S.a.search,children:[Object(n.jsx)("input",{disabled:!this.props.products,autoComplete:"off",value:this.state.input,onChange:function(t){return e.userInput(t)}}),Object(n.jsxs)("div",{className:S.a.searchicon,children:[Object(n.jsx)("i",{className:"fas fa-search "})," "]}),Object(n.jsx)(_.a,{in:this.state.showResults,timeout:500,classNames:"searchresultsdropdown",unmountOnExit:!0,children:Object(n.jsxs)("div",{className:S.a.results,children:[" ",this.props.products?0!==Object.keys(this.props.products)&&this.props.products.map((function(t,r){return Object(n.jsxs)("div",{className:S.a.searchitem,onClick:function(){return e.selectedItem(t._id)},children:[t.name,Object(n.jsx)("hr",{})]},r)})):null]})})]})})}}]),r}(a.Component),D=Object(p.g)(Object(E.b)((function(e){return{products:e.products.searchProducts}}),(function(e){return{getProducts:function(){return e(Object(x.q)())},search:function(t){return e(Object(x.r)(t))}}}))(T)),R=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).goToCategory=function(t){e.props.showDropDown(!1),e.props.history.push("".concat(e.props.chosenCategory,"/").concat(e.props.chosenSubCategory,"/").concat(t))},e}return Object(i.a)(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.showSubCat,a=t.subCatToShow,c=t.showSubCategory,o=t.showDropDown,s=this.props,i=s.categories,u=s.chosenCategory,l=s.chosenSubCategory,p=Object.keys(i[u]);return Object(n.jsxs)("div",{className:S.a.dropdown,onMouseEnter:function(){return e.props.mouseEnter()},onMouseLeave:function(){return o(!1)},children:[Object(n.jsx)("div",{className:S.a.categories,children:p.map((function(e){var t=l===e?S.a.categoryItemMove:"";return Object(n.jsxs)("div",{className:"".concat(S.a.categoryItem," ").concat(t," "),onMouseEnter:function(e){a(e.target.textContent),r(!0)},children:[e,Object(n.jsx)("i",{className:"fas fa-arrow-right ".concat(t)})]},e)}))}),Object(n.jsx)("div",{className:S.a.subcategories,children:c?i[u][l].map((function(e,t){return Object(n.jsx)("div",{children:Object(n.jsx)(d.b,{to:"/".concat(u,"/").concat(l,"/").concat(e),children:e})},t)})):null})]})}}]),r}(a.Component),N=Object(p.g)(Object(E.b)((function(e){return{categories:e.products.categories,chosenCategory:e.products.chosenCategory,chosenSubCategory:e.products.chosenSubCategory,showSubCategory:e.products.showSubCategory}}),(function(e){return{showSubCat:function(t){return e(Object(x.w)(t))},subCatToShow:function(t){return e(Object(x.z)(t))},showDropDown:function(t){return e(Object(x.t)(t))}}}))(R)),I=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).goToCategory=function(t){e.props.showSideMenu(!1),e.props.history.push("".concat(e.props.chosenCategory,"/").concat(e.props.chosenSubCategory,"/").concat(t))},e}return Object(i.a)(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.showSubCat,a=t.subCatToShow,c=t.showSideMenu,o=this.props,s=o.categories,i=o.chosenCategory,u=o.chosenSubCategory,l=o.showSubCategory,d=Object.keys(s[i]);return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:S.a.sidemenu,onMouseLeave:function(){return c(!1)},children:[Object(n.jsx)("div",{className:S.a.maincats}),Object(n.jsx)("div",{className:S.a.sidecategories,children:d.map((function(e,t){var c=u===e?S.a.categoryItemMove:"";return Object(n.jsxs)("div",{className:"".concat(S.a.categoryItem," ").concat(c," "),onClick:function(e){a(e.target.textContent),r(!0)},children:[e,Object(n.jsx)("i",{className:"fas fa-arrow-right ".concat(c)})]},t)}))}),Object(n.jsx)("div",{className:S.a.sidesubcategories,children:l?s[i][u].map((function(t){return Object(n.jsx)("div",{onClick:function(){return e.goToCategory(t)},children:t},t)})):null}),Object(n.jsx)("div",{className:S.a.closebutton,onClick:function(){return c(!1)},style:{width:"1.6rem",height:"1.6rem"},children:Object(n.jsx)("i",{className:"fas fa-window-close",style:{width:"inherit",height:"inherit",backgroundColor:"white"}})})]})})}}]),r}(a.Component),L=Object(p.g)(Object(E.b)((function(e){return{categories:e.products.categories,chosenCategory:e.products.chosenCategory,chosenSubCategory:e.products.chosenSubCategory,showSubCategory:e.products.showSubCategory}}),(function(e){return{showSubCat:function(t){return e(Object(x.w)(t))},subCatToShow:function(t){return e(Object(x.z)(t))},showSideMenu:function(t){return e(Object(x.v)(t))}}}))(I)),k=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){var e=this;console.log(this.props.admin);var t=this.props,r=t.showDrop,a=t.showSide,c=t.showSubCat,o=t.signedIn,s=this.props,i=s.chosenCategory,u=s.showDropDown,l=s.showSideMenu,p=s.clearProds,b=s.getNewProducts;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:S.a.navbar,children:[Object(n.jsx)(y,{size:"2rem"}),Object(n.jsx)("div",{className:S.a.user,onMouseEnter:function(){return l(!0)},style:{width:"1.3rem",height:"1.3rem",color:"#ecf0f1"},children:" "}),Object(n.jsx)(D,{}),Object(n.jsx)("div",{className:S.a.user,onClick:function(){o?e.props.history.push("/account"):e.props.history.push("/sign-in")},style:{width:"1.3rem",height:"1.3rem",color:"#ecf0f1",marginLeft:"auto"},children:Object(n.jsx)("i",{className:"fas fa-user",style:{width:"100%",height:"100%"}})}),o&&this.props.admin?Object(n.jsx)(d.b,{className:S.a.admin,to:"/admin",children:"Admin"}):null,Object(n.jsx)(w,{}),Object(n.jsx)("div",{className:S.a.links,children:o?this.props.admin?Object(n.jsx)(d.b,{to:"/admin",children:"Admin"}):Object(n.jsx)(d.b,{to:"/account",children:"Your Account"}):Object(n.jsx)(d.b,{to:"/sign-in",children:"Sign in"})})]})}),Object(n.jsxs)("div",{className:S.a.categorylinks,children:[Object(n.jsx)(d.b,{onClick:function(){c(!1),u(!0),l(!0),i("cycle"),p(),b("cycle")},onMouseLeave:function(){return e.props.mouseEnter&&u(!1)},to:"/cycle",children:"CYCLE"}),Object(n.jsx)(d.b,{onClick:function(e){c(!1),i("run"),u(!0),l(!0),p(),b("run")},onMouseLeave:function(){return e.props.mouseEnter&&u(!1)},to:"/run",children:"RUN"}),Object(n.jsx)(d.b,{onClick:function(){c(!1),u(!0),l(!0),i("swim"),p(),b("swim")},onMouseLeave:function(){return e.props.mouseEnter&&u(!1)},to:"/swim",children:"SWIM"})]}),Object(n.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(n.jsx)(m.a,{query:"(min-width: 768px)",render:function(){return Object(n.jsx)(_.a,{in:r,timeout:300,classNames:"menufade",unmountOnExit:!0,children:Object(n.jsx)(N,{mouseEnter:function(){return u(!0)},mouseLeave:function(){return u(!1)},closeMain:e.closeDropMenu})})}})}),Object(n.jsx)(m.a,{query:"(max-width: 768px)",render:function(){return Object(n.jsx)(_.a,{in:a,timeout:300,classNames:"sidemenu",unmountOnExit:!0,children:Object(n.jsx)(L,{})})}})]})}}]),r}(a.Component),P=Object(p.g)(Object(E.b)((function(e){return{showSide:e.products.showSideMenu,showDrop:e.products.showDropDownMenu,signedIn:e.user.signedIn,admin:e.user.user.admin,products:e.products.products}}),(function(e){return{showSubCat:function(t){return e(Object(x.w)(t))},chosenCategory:function(t){return e(Object(x.s)(t))},showDropDown:function(t){return e(Object(x.t)(t))},showSideMenu:function(t){return e(Object(x.v)(t))},clearProds:function(){return e(x.c)},getNewProducts:function(t){return e(Object(x.n)(t))}}}))(k)),A=r(107),U=r(28),M=function(e){var t=e.component;return Object(U.a)()?Object(n.jsx)(t,{}):Object(n.jsx)(p.a,{to:"/"})},B=function(e){var t=e.component,r=Object(U.a)();return console.log(r),r&&r.admin?Object(n.jsx)(t,{}):Object(n.jsx)(p.a,{to:"/"})},F=(r(94),Object(a.lazy)((function(){return r.e(9).then(r.bind(null,140))}))),W=Object(a.lazy)((function(){return r.e(15).then(r.bind(null,141))})),z=Object(a.lazy)((function(){return Promise.all([r.e(0),r.e(14)]).then(r.bind(null,142))})),H=Object(a.lazy)((function(){return r.e(16).then(r.bind(null,143))})),G=Object(a.lazy)((function(){return r.e(17).then(r.bind(null,144))})),V=Object(a.lazy)((function(){return Promise.all([r.e(0),r.e(5)]).then(r.bind(null,151))})),q=Object(a.lazy)((function(){return r.e(8).then(r.bind(null,152))})),Y=Object(a.lazy)((function(){return r.e(7).then(r.bind(null,153))})),K=Object(a.lazy)((function(){return r.e(11).then(r.bind(null,145))})),J=Object(a.lazy)((function(){return Promise.all([r.e(0),r.e(4)]).then(r.bind(null,150))})),Q=Object(a.lazy)((function(){return r.e(10).then(r.bind(null,146))})),X=Object(a.lazy)((function(){return r.e(13).then(r.bind(null,147))})),Z=Object(a.lazy)((function(){return r.e(12).then(r.bind(null,148))})),$=Object(a.lazy)((function(){return r.e(6).then(r.bind(null,149))})),ee=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={showArrowToTop:!1},e.componentDidMount=function(){window.addEventListener("scroll",(function(){window.scrollY>122&&e.setState({showArrowToTop:!0}),window.innerHeight-122<window.innerHeight-window.scrollY&&e.setState({showArrowToTop:!1})}));var t=Object(U.a)();t&&e.props.addAuthenticateduserToRedux(t);var r=e.props,n=r.basket,a=r.addBasket;0!==n.length&&(Object.keys(localStorage).map((function(e){return"userInfo"!==e&&localStorage.removeItem("".concat(e))})),n.map((function(e,t){return localStorage.setItem("item".concat(t),JSON.stringify(e))})));var c=Object.keys(localStorage).filter((function(e){return!0===/^item/.test(e)}));0===n.length&&c&&c.map((function(e){var t=JSON.parse(localStorage.getItem(e));return a(t)}))},e}return Object(i.a)(r,[{key:"render",value:function(){this.props.adminUser;return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"App",children:[this.props.loadingUser||this.props.loadingProducts||this.props.loadingOrders?Object(n.jsx)("div",{className:"generic-loading-container",children:Object(n.jsx)(A.a,{style:{color:"#f1c40f",size:"4rem"}})}):null,Object(n.jsxs)(d.a,{basename:"".concat("/E-commerce-front-end"),children:[Object(n.jsx)(P,{}),Object(n.jsx)(a.Suspense,{fallback:Object(n.jsx)("div",{className:"spinner-container",children:Object(n.jsx)(A.a,{style:{color:"#f1c40f",size:"4rem"}})}),children:Object(n.jsxs)(p.d,{children:[Object(n.jsx)(p.b,{exact:!0,path:"/",component:f}),Object(n.jsx)(p.b,{exact:!0,path:"/sign-in",component:H}),Object(n.jsx)(p.b,{exact:!0,path:"/sign-up/:email",component:G}),Object(n.jsx)(p.b,{exact:!0,path:"/run",component:Y}),Object(n.jsx)(p.b,{exact:!0,path:"/cycle",component:Y}),Object(n.jsx)(p.b,{exact:!0,path:"/swim",component:Y}),Object(n.jsx)(M,{exact:!0,path:"/account",component:F}),Object(n.jsx)(M,{exact:!0,path:"/check-out",component:$}),Object(n.jsx)(B,{exact:!0,path:"/admin",component:W}),Object(n.jsx)(B,{exact:!0,path:"/admin/create",component:Z}),Object(n.jsx)(B,{exact:!0,path:"/admin/product/:id",component:X}),Object(n.jsx)(p.b,{exact:!0,path:"/admin-orders",component:z}),Object(n.jsx)(p.b,{exact:!0,path:"/order/:id",render:function(){return Object(U.a)()?Object(n.jsx)(Q,{}):Object(n.jsx)(p.a,{to:"/"})}}),Object(n.jsx)(p.b,{exact:!0,path:"/product/:id",component:V}),Object(n.jsx)(p.b,{exact:!0,path:"/shopping-basket",component:q}),Object(n.jsx)(p.b,{exact:!0,path:"/:category/:type/:subcat",component:J}),Object(n.jsx)(p.b,{component:K})]})})]})]}),Object(n.jsx)(_.a,{in:this.state.showArrowToTop,onClick:function(){return window.scrollTo(0,0)},timeout:500,classNames:"menuarrow",unmountOnExit:!0,children:Object(n.jsx)("div",{className:"menuarrow",children:Object(n.jsx)("i",{className:"fas fa-arrow-circle-up"})})})]})}}]),r}(a.Component),te=Object(E.b)((function(e){return{loadingUser:e.user.loading,loadingProducts:e.products.loading,loadingOrders:e.orders.loading,adminUser:e.user.user.admin,userSignedIn:e.user.signedIn,basket:e.products.basket}}),(function(e){return{addAuthenticateduserToRedux:function(t){return e({type:"LOGIN_SUCCESS",user:t})},addBasket:function(t){return e(Object(x.a)(t))}}}))(ee),re=r(30),ne=r(2),ae={user:{firstName:null,lastName:null,id:null,token:"",admin:null},error:null,loading:!1,signedIn:!1};var ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_STARTED":return Object(ne.a)(Object(ne.a)({},e),{},{loading:!0});case"USER_LOGGED_OUT":return Object(ne.a)(Object(ne.a)({},e),{},{signedIn:!1,admin:!1});case"LOGIN_SUCCESS":return Object(ne.a)(Object(ne.a)({},e),{},{user:t.user,loading:!1,signedIn:!0,error:null});case"LOGIN_FAIL":return Object(ne.a)(Object(ne.a)({},e),{},{error:t.error,loading:!1});default:return e}},oe=r(35),se=r(32),ie={loading:!1,products:[],showDropDownMenu:!1,showSideMenu:!1,chosenCategory:"cycle",showSubCategory:!1,chosenSubCategory:"bikes",selectedProduct:[],basket:[],basketValue:0,filteredBrands:[],reviewError:null,reviewSuccess:null,searchProducts:null,serverError:null,globalFilterReset:!1,filterStock:!1,filterBrand:!1,filterPrice:!1,filterLowerPrice:0,filterHigherPrice:0,filterReview:!1,productCreatedModal:!1,productDeletedModal:!1,latestCreatedProductId:"",categories:{cycle:{bikes:["Mountain bikes","Hybrid bikes","Road bikes"],helmets:["Helmets","Protection"]},run:{clothing:["Tops","Legwear","Jackets"],footwear:["Running Shoes","Trail Shoes"]},swim:{shorts:["Swimming shorts","Swimming briefs"],swimsuits:["One piece","Two piece"]}}};var ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLEAR_PRODUCTS":return Object(ne.a)(Object(ne.a)({},e),{},{products:[]});case"ALLPRODUCTS_SUCCESS":return Object(ne.a)(Object(ne.a)({},e),{},{searchProducts:t.products});case"PRODUCTS_REQUESTED":return Object(ne.a)(Object(ne.a)({},e),{},{loading:!0});case"PRODUCTS_SUCCESS":return Object(ne.a)(Object(ne.a)({},e),{},{products:t.products,loading:!1});case"PRODUCT_SUCCESS":return Object(ne.a)(Object(ne.a)({},e),{},{selectedProduct:t.product,loading:!1});case"SEARCH_PRODUCTS":var r=e.searchProducts.filter((function(e){return e.name.toLowerCase().includes(t.searchValue.toLowerCase())}));return Object(ne.a)(Object(ne.a)({},e),{},{searchProducts:r});case"PRODUCTS_FAIL":case"ALLPRODUCTS_FAIL":return Object(ne.a)(Object(ne.a)({},e),{},{serverError:t.error,loading:!1});case"CATEGORY_CHOSEN":return Object(ne.a)(Object(ne.a)({},e),{},{chosenCategory:t.category});case"SHOW_DROP_DOWN":return Object(ne.a)(Object(ne.a)({},e),{},{showDropDownMenu:t.bool});case"SHOW_SIDE_MENU":return Object(ne.a)(Object(ne.a)({},e),{},{showSideMenu:t.bool});case"SHOW_SUB_CATEGORY":return Object(ne.a)(Object(ne.a)({},e),{},{showSubCategory:t.bool});case"CHOSEN_PRODUCT":var n=e.products.filter((function(e){return e._id===t.id}));return Object(ne.a)(Object(ne.a)({},e),{},{selectedProduct:n[0]});case"SUB_CAT_SELECTED":return Object(ne.a)(Object(ne.a)({},e),{},{chosenSubCategory:t.subcat});case"CLEAR_SELECTED_PRODUCTS":return Object(ne.a)(Object(ne.a)({},e),{},{selectedProduct:[]});case"FILTERED_BRANDS":return Object(ne.a)(Object(ne.a)({},e),{},{filteredBrands:t.brands});case"CHOSEN_BRAND":console.log(t);var a=Object(se.a)(e.products),c=a.filter((function(e){return e.brand===t.brand}));return Object(ne.a)(Object(ne.a)({},e),{},{products:c,filterBrand:t.brand});case"RESET_ALL_FILTERS":return console.log(t.bool),t.bool?Object(ne.a)(Object(ne.a)({},e),{},{globalFilterReset:t.bool,filterStock:!1,filterBrand:!1,filterPrice:!1,filterReview:!1,filterHigherPrice:0,filterLowerPrice:0}):Object(ne.a)(Object(ne.a)({},e),{},{globalFilterReset:t.bool});case"FILTERED_IN_STOCK":var o=e.products.filter((function(e){return 0!==e.stock}));return console.log(o),Object(ne.a)(Object(ne.a)({},e),{},{products:o,filterStock:!0});case"SORT_BY_BEST_REVIEWS":return Object(ne.a)(Object(ne.a)({},e),{},{products:t.products,filterReview:!0});case"CLEAR_REVIEW_FILTER":return Object(ne.a)(Object(ne.a)({},e),{},{products:t.products});case"UPDATE_PRICE_RANGE":return!0===t.higher?Object(ne.a)(Object(ne.a)({},e),{},{filterHigherPrice:t.price}):Object(ne.a)(Object(ne.a)({},e),{},{filterLowerPrice:t.price});case"FILTER_PRICE_RANGE":var s=e.products.filter((function(e){return e.price>=t.lower&e.price<=t.higher}));return Object(ne.a)(Object(ne.a)({},e),{},{products:s,filterPrice:!0});case"UPDATE_BASKET":var i=Object(se.a)(e.basket);return i[t.noPos].quantity=t.quantity,Object(ne.a)(Object(ne.a)({},e),{},{basket:i});case"EMPTY_BASKET":return Object(ne.a)(Object(ne.a)({},e),{},{basket:[]});case"DELETE_ITEM_FROM_BASKET":var u=Object(se.a)(e.basket),l=u.findIndex((function(e){return e.id===t.id&&e.size===t.size}));return console.log(l),u.splice(l,1),Object(ne.a)(Object(ne.a)({},e),{},{basket:u});case"ADD_TO_BASKET":var d=Object(se.a)(e.basket);d.push(t.itemInfo);var p=0===e.basket.length?t.itemInfo.price:t.itemInfo.price+e.basket.reduce((function(e,t){return e+t.price*t.quantity}),t.itemInfo.price);return Object(ne.a)(Object(ne.a)({},e),{},{basket:d,basketValue:p});case"CLEAR_REVIEW_STATUS":return Object(ne.a)(Object(ne.a)({},e),{},{reviewError:null,reviewSuccess:null});case"REVIEW_SENT":return Object(ne.a)(Object(ne.a)({},e),{},{loading:!0,reviewError:null});case"REVIEW_SUCCESS":return Object(ne.a)(Object(ne.a)({},e),{},{loading:!1,reviewSuccess:!0});case"REVIEW_FAIL":return Object(ne.a)(Object(ne.a)({},e),{},{loading:!1,reviewError:t.error,reviewSuccess:!1});case"CREATE_PRODUCT":return Object(ne.a)(Object(ne.a)({},e),{},{loading:!0});case"PRODUCT_CREATED_SUCCESS":return Object(ne.a)(Object(ne.a)({},e),{},{loading:!1,productCreatedModal:!0,latestCreatedProductId:t.productId});case"CLOSE_ADMIN_PRODUCT_MODAL":return Object(ne.a)(Object(ne.a)({},e),{},{productCreatedModal:!1});case"UPDATE_PRODUCT_IN_REDUX_STATE":var b=t.key,j=t.value;return Object(ne.a)(Object(ne.a)(Object(ne.a)({},e),e.selectedProduct),{},Object(oe.a)({},b,j));case"DELETE_PRODUCT":return Object(ne.a)(Object(ne.a)({},e),{},{loading:!0});case"PRODUCT_DELETED_SUCCESS":return Object(ne.a)(Object(ne.a)({},e),{},{productDeletedModal:!0,loading:!1});case"CLOSE_ADMIN_DELETE_MODAL":return Object(ne.a)(Object(ne.a)({},e),{},{productDeletedModal:!1,chosenCategory:t.category});default:return e}},le={loading:!1,orders:[],order:null,showOrdersModal:!1,errors:null};var de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_SENT":return Object(ne.a)(Object(ne.a)({},e),{},{loading:!0});case"ORDER_SUCCESS":return Object(ne.a)(Object(ne.a)({},e),{},{loading:!1,showOrdersModal:!0,errors:null});case"ORDER_LIST_RECEIVED":return Object(ne.a)(Object(ne.a)({},e),{},{loading:!1,orders:t.orders});case"ORDER_FAIL":return Object(ne.a)(Object(ne.a)({},e),{},{loading:!1,showOrdersModal:!0,errors:"Network error, please try again"});case"INDIVDUAL_ORDER_SUCCESS":return Object(ne.a)(Object(ne.a)({},e),{},{loading:!1,order:t.order[0]});case"CLOSE_MODAL":return Object(ne.a)(Object(ne.a)({},e),{},{showOrdersModal:!1,error:null});default:return e}},pe=r(59),be=r(60),je=Object(re.combineReducers)({user:ce,products:ue,orders:de}),Oe=Object(re.createStore)(je,Object(pe.composeWithDevTools)(Object(re.applyMiddleware)(be.a)));o.a.render(Object(n.jsx)(E.a,{store:Oe,children:Object(n.jsx)(te,{})}),document.getElementById("root"))}},[[95,2,3]]]);
//# sourceMappingURL=main.b3f83dc7.chunk.js.map