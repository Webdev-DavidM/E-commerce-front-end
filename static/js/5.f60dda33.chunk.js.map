{"version":3,"sources":["Pages/Product.module.css","Components/UIelements/ProductImageCarousel.module.css","Components/UIelements/Reviews.module.css","Components/UIelements/ProductImageCarousel.js","Components/UIelements/Reviews.js","Pages/Product.js"],"names":["module","exports","ProductImageCarousel","state","productId","selectedImage","moveImageByArrow","direction","setState","prevState","props","product","images","length","moveImagesByDot","index","this","imageButtons","map","image","className","styles","dot","onClick","style","backgroundColor","imageGallery","border","src","process","alt","slideshowcontainer","myslides","fade","disabled","prev","next","textAlign","query","render","imagegallery","Component","withRouter","connect","products","selectedProduct","Reviews","showReviews","averageReviewRating","stars","componentDidMount","reviews","averageRating","reduce","a","b","rating","reviewcontainer","star","colour","color","icon","faStar","CSSTransition","in","timeout","classNames","unmountOnExit","review","reviewdivider","firstName","comment","Product","size","showBasketModal","dropdownSelected","quantity","error","selectSize","e","target","value","selectQuantity","operator","continueShopping","addToBasket","addProductToBasket","price","_id","name","qtyOfSizeInStock","id","localStorageKey","basket","componentDidUpdate","newProps","location","pathname","match","url","getProductFromServer","history","split","params","componentWillUnmount","clearProduct","dropdown","sizeKeys","Object","keys","key","basketmodal","continueshoppingbtn","checkoutbtn","textDecoration","to","gobackbtn","goBack","productinfo","column1","sizecontainer","qtybtn1","onChange","quantityinput","type","qtybtn2","stock","addtocartbtn","width","height","column2","description","dispatch","itemInfo","getProduct","clearSelectedProduct"],"mappings":"iGACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,MAAQ,uBAAuB,MAAQ,uBAAuB,cAAgB,+BAA+B,YAAc,6BAA6B,OAAS,wBAAwB,MAAQ,uBAAuB,YAAc,6BAA6B,oBAAsB,qCAAqC,YAAc,6BAA6B,cAAgB,+BAA+B,QAAU,yBAAyB,QAAU,yBAAyB,UAAY,2BAA2B,OAAS,wBAAwB,aAAe,8BAA8B,QAAU,yBAAyB,QAAU,2B,oBCArrBD,EAAOC,QAAU,CAAC,KAAO,mCAAmC,SAAW,uCAAuC,mBAAqB,iDAAiD,KAAO,mCAAmC,IAAM,kCAAkC,OAAS,qCAAqC,aAAe,6C,oBCAnUD,EAAOC,QAAU,CAAC,gBAAkB,iCAAiC,cAAgB,iC,6JCS/EC,E,4MACJC,MAAQ,CACNC,UAAW,GACXC,cAAe,G,EAGjBC,iBAAmB,SAACC,GAClB,MAAkB,SAAdA,GAAqD,IAA7B,EAAKJ,MAAME,cAC9B,EAAKG,UAAS,SAACC,GAAD,MAAgB,CACnCJ,cAAeI,EAAUJ,cAAgB,MAG7B,UAAdE,GACA,EAAKJ,MAAME,gBAAkB,EAAKK,MAAMC,QAAQC,OAAOC,OAAS,EAEzD,EAAKL,UAAS,SAACC,GAAD,MAAgB,CACnCJ,cAAeI,EAAUJ,cAAgB,WALtC,G,EAUTS,gBAAkB,SAACC,GACjB,EAAKP,UAAS,SAACC,GAAD,MAAgB,CAC5BJ,cAAeU,O,uDAIT,IAAD,OACDH,EAAWI,KAAKN,MAAMC,QAAtBC,OAEFK,EAAeL,EAAOM,KAAI,SAACC,EAAOJ,GAAR,OAC5B,sBAEEK,UAAWC,IAAOC,IAClBC,QAAS,kBAAM,EAAKT,gBAAgBC,IACpCS,MACET,IAAU,EAAKZ,MAAME,cACjB,CAAEoB,gBAAiB,WACnB,MANDV,MAULW,EAAed,EAAOM,KAAI,SAACC,EAAOJ,GAAR,OAC5B,sBAEEQ,QAAS,kBAAM,EAAKT,gBAAgBC,IACpCS,MACET,IAAU,EAAKZ,MAAME,cACjB,CAAEsB,OAAQ,qBACV,KANR,SAQE,qBACEC,IAAG,UAAKC,wBAAL,YAA2CV,GAC9CW,IAAK,WATFf,MAaT,OACE,qCACE,qBAAKK,UAAWC,IAAOU,mBAAvB,SACE,sBAAKX,UAAS,UAAKC,IAAOW,SAAZ,YAAwBX,IAAOY,MAA7C,UACE,wBACEC,SAAuC,IAA7BlB,KAAKb,MAAME,cACrBe,UAAWC,IAAOc,KAClBZ,QAAS,kBAAM,EAAKjB,iBAAiB,SAHvC,SAIE,mBAAGc,UAAU,wBAEf,qBACEQ,IAAG,UAAKC,wBAAL,YACDjB,EAAOI,KAAKb,MAAME,gBAEpByB,IAAK,UACP,wBACEV,UAAWC,IAAOe,KAClBb,QAAS,kBAAM,EAAKjB,iBAAiB,UAFvC,SAGE,mBAAGc,UAAU,8BAInB,uBACA,sBAAKI,MAAO,CAAEa,UAAW,UAAzB,UACG,IACD,mBAAGjB,UAAU,sBAFf,QAGGJ,KAAKb,MAAME,cAAgB,EAH9B,gBAGkDO,EAAOC,OAHzD,QAIE,mBAAGO,UAAU,0BAEf,cAAC,IAAD,CACEkB,MAAO,qBACPC,OAAQ,kBACN,qBAAKf,MAAO,CAAEa,UAAW,UAAzB,SAAsCpB,OAG1C,cAAC,IAAD,CACEqB,MAAO,qBACPC,OAAQ,kBACN,qBACEnB,UAAWC,IAAOmB,aAClBhB,MAAO,CAAEa,UAAW,UAFtB,SAGGX,c,GAlGoBe,aAiHpBC,cAAWC,aANF,SAACxC,GACvB,MAAO,CACLQ,QAASR,EAAMyC,SAASC,mBAIFF,CAAyBzC,I,6CCrCpC4C,E,4MA1Eb3C,MAAQ,CACN4C,aAAa,EACbC,oBAAqB,KACrBC,MAAO,CAAC,EAAG,EAAG,EAAG,EAAG,I,EAGtBC,kBAAoB,WAAO,IACnBC,EAAY,EAAKzC,MAAjByC,QAEFC,EACFD,EAAQtC,OAAS,EACbsC,EAAQE,QAAO,SAACC,EAAGC,GACjB,OAAOD,EAAIC,EAAEC,SACZ,GAAKL,EAAQtC,OAChB,EACN,EAAKL,SAAS,CAAEwC,oBAAqBI,K,uDAG7B,IAAD,OACDD,EAAYnC,KAAKN,MAAjByC,QAEN,OACE,sBACE/B,UAAWC,IAAOoC,gBAClBlC,QAAS,kBACP,EAAKf,UAAS,SAACC,GAAD,MAAgB,CAC5BsC,aAActC,EAAUsC,iBAJ9B,UAOG/B,KAAKb,MAAM6C,qBACVhC,KAAKb,MAAM8C,MAAM/B,KAAI,SAACwC,EAAM3C,GAC1B,IAAI4C,EACFD,GAAQ,EAAKvD,MAAM6C,oBAAsB,UAAY,KACvD,OACE,sBAA0BxB,MAAO,CAAEoC,MAAM,GAAD,OAAKD,IAA7C,SACE,cAAC,IAAD,CAAiBE,KAAMC,OADzB,cAAkBJ,OAZ1B,SAiBWP,EAAQtC,OAjBnB,IAiB2B,gEACL,IAAnBsC,EAAQtC,QACP,2EAEF,cAACkD,EAAA,EAAD,CACEC,GAAIhD,KAAKb,MAAM4C,YACfkB,QAAS,IACTC,WAAW,UACXC,eAAa,EAJf,SAKE,8BACGhB,EAAQjC,KAAI,SAACkD,EAAQrD,GACpB,IAAIkC,EAAQ,EAAK9C,MAAM8C,MAAM/B,KAAI,SAACwC,EAAM3C,GACtC,IAAI4C,EAASD,GAAQU,EAAOZ,OAAS,UAAY,KACjD,OACE,sBAA6BhC,MAAO,CAAEoC,MAAM,GAAD,OAAKD,IAAhD,SACE,cAAC,IAAD,CAAiBE,KAAMC,OADzB,gBAAoB/C,OAKxB,OACE,gCACE,oBAAIK,UAAWC,IAAOgD,gBACrBpB,EAFH,OAEcmB,EAAOE,UACnB,uBACCF,EAAOG,UAJV,kBAAqBxD,kB,GA5Df0B,a,QCYhB+B,E,4MACJrE,MAAQ,CACNsE,KAAM,GACNC,iBAAiB,EACjBC,kBAAkB,EAClBC,SAAU,EACVC,MAAO,I,EAGTC,WAAa,SAACC,GACZ,EAAKvE,SAAS,CAAEiE,KAAMM,EAAEC,OAAOC,MAAOJ,MAAO,M,EAG/CK,eAAiB,SAACC,GAAc,IACxBxE,EAAY,EAAKD,MAAjBC,QACN,GAAwB,KAApB,EAAKR,MAAMsE,KACb,OAAO,EAAKjE,SAAS,CAAEqE,MAAO,+BAEf,MAAbM,GAC0B,IAAxB,EAAKhF,MAAMyE,UACb,EAAKpE,UAAS,SAACC,GAAD,MAAgB,CAC5BmE,SAAUnE,EAAUmE,SAAW,EAC/BC,MAAO,OAII,MAAbM,GAAwC,IAApB,EAAKhF,MAAMsE,OAC7B,EAAKtE,MAAMyE,SAAWjE,EAAQ8D,KAAK,GAAG,EAAKtE,MAAMsE,MACnD,EAAKjE,UAAS,SAACC,GAAD,MAAgB,CAC5BmE,SAAUnE,EAAUmE,SAAW,MAGjC,EAAKpE,SAAS,CACZqE,MAAM,uBAAD,OAAyB,EAAK1E,MAAMsE,KAApC,iB,EAMbW,iBAAmB,WACjB,EAAK5E,SAAS,CAAEkE,iBAAiB,K,EAGnCW,YAAc,WAAM,IAEZC,EAAuB,EAAK5E,MAA5B4E,mBAFY,EAKiB,EAAK5E,MAAMC,QAAxCC,EALY,EAKZA,OAAQ2E,EALI,EAKJA,MAAOC,EALH,EAKGA,IAAKC,EALR,EAKQA,KAEF,KAApB,EAAKtF,MAAMsE,MAAuC,IAAxB,EAAKtE,MAAMyE,UAWvCU,EAVe,CACbb,KAAM,EAAKtE,MAAMsE,KACjBiB,iBAAkB,EAAKhF,MAAMC,QAAQ8D,KAAK,GAAG,EAAKtE,MAAMsE,MACxDG,SAAU,EAAKzE,MAAMyE,SACrBa,KAAMA,EACNE,GAAIH,EACJD,MAAOA,EACP3E,OAAQA,EACRgF,gBAAiB,EAAKlF,MAAMmF,OAAOhF,SAGrC,EAAKL,SAAS,CAAEkE,iBAAiB,KAEjC,EAAKlE,SAAS,CAAEqE,MAAO,uC,EAI3BiB,mBAAqB,SAACC,GAIhBA,EAASC,SAASC,WAAa,EAAKvF,MAAMwF,MAAMC,MAGlDC,EAF+B,EAAK1F,MAA9B0F,sBACGL,EAASM,QAAQL,SAASC,SAASK,MAAM,KAAK,K,EAK3DpD,kBAAoB,YAGlBkD,EAF+B,EAAK1F,MAA9B0F,sBACO,EAAK1F,MAAMwF,MAAMK,OAAxBZ,K,EAIRa,qBAAuB,WACrB,EAAK9F,MAAM+F,gB,uDAGH,IAAD,OACD9F,EAAYK,KAAKN,MAAjBC,QAEA+D,EAAoB1D,KAAKb,MAAzBuE,gBAEFgC,EAAW,KAEf,GAAuB,IAAnB/F,EAAQE,OAAc,CACxB,IAAI8F,EAAWC,OAAOC,KAAKlG,EAAQ8D,KAAK,IACxCiC,EACE,mCACGC,EAASzF,KAAI,SAAC4F,EAAK/F,GAAN,OACZ,yBAEEkE,MAAO6B,EACP5E,SAAmC,IAAzBvB,EAAQ8D,KAAK,GAAGqC,GAC1BvF,QAAS,SAACwD,GAAD,OAAO,EAAKD,WAAWC,IAJlC,UAKG+B,EALH,mBAOGnG,EAAQ8D,KAAK,GAAGqC,GAPnB,+BACiB/F,SAazB,OACE,mCACGJ,EACC,sBAAKS,UAAWC,IAAOV,QAAvB,UACG+D,GACC,qBAAKtD,UAAWC,IAAO0F,YAAvB,SACE,sBAAK3F,UAAWC,IAAOwE,OAAvB,UACE,+BACG,IACD,mBAAGzE,UAAU,iBAFf,oBAGsB,OAEtB,wBACEG,QAAS,kBAAM,EAAK6D,oBACpBhE,UAAWC,IAAO2F,oBAFpB,+BAKA,cAAC,IAAD,CACE5F,UAAWC,IAAO4F,YAClBzF,MAAO,CAAE0F,eAAgB,OAAQtD,MAAO,SACxCuD,GAAI,mBAHN,+BASN,mBAAG/F,UAAU,mBACO,IAAnBT,EAAQE,QAA2C,IAA3BF,EAAQwC,QAAQtC,OACvC,cAAC,EAAD,CAASsC,QAASxC,EAAQwC,UACxB,KACJ,6BACE,sBACE/B,UAAWC,IAAO+F,UAClB7F,QAAS,kBAAM,EAAKb,MAAM2F,QAAQgB,UAFpC,uBAMF,uBACoB,IAAnB1G,EAAQE,QACP,cAAC,EAAD,CAAsBD,OAAQD,EAAQC,SAExC,sBAAKQ,UAAWC,IAAOiG,YAAvB,UACE,sBAAKlG,UAAWC,IAAOkG,QAAvB,UACG,IACD,oBAAGnG,UAAWC,IAAOkE,MAArB,iBAA8B5E,EAAQ4E,SACrC5E,EAAQgD,QAAU,yCAAYhD,EAAQgD,UACvC,8BAAMhD,EAAQ8E,OACd,qBAAKrE,UAAWC,IAAOmG,cAAvB,SACE,uBACEjG,QAAS,kBACP,EAAKf,UAAS,SAACC,GAAD,MAAgB,CAC5BkE,kBAAmBlE,EAAUkE,sBAHnC,UAMuB,KAApB3D,KAAKb,MAAMsE,KACV,+BAAOzD,KAAKb,MAAMsE,OAElB,iDACC,KACDzD,KAAKb,MAAMwE,kBACX,+BACE,mBAAGvD,UAAU,wBAGhBJ,KAAKb,MAAMwE,kBAAoB+B,OAGpC,uBACA,sBAAKtF,UAAWC,IAAOuD,SAAvB,UACE,6CACA,wBACExD,UAAWC,IAAOoG,QAClBlG,QAAS,kBAAM,EAAK2D,eAAe,MAFrC,eAKA,uBACEwC,SAAU,SAAC3C,GAAD,OACR,EAAKvE,SAAS,CAAEoE,SAAUG,EAAEC,OAAOC,SAErCA,MAAOjE,KAAKb,MAAMyE,SAClBxD,UAAWC,IAAOsG,cAClBC,KAAK,UACP,wBACExG,UAAWC,IAAOwG,QAClBtG,QAAS,kBAAM,EAAK2D,eAAe,MAFrC,eAKA,uBACA,uBACmB,IAAlBvE,EAAQmH,MACP,uBAAMtG,MAAO,CAAEoC,MAAO,OAAtB,wBACcjD,EAAQmH,MADtB,oBAIA,sBAAMtG,MAAO,CAAEoC,MAAO,OAAtB,mCAGJ,yBACErC,QAAS,kBAAM,EAAK8D,eACpBjE,UAAWC,IAAO0G,aAFpB,UAGG,IACD,mBACE3G,UAAU,uBACVI,MAAO,CAAEwG,MAAO,OAAQC,OAAQ,QAFlC,SAGG,MAPL,4BAWCjH,KAAKb,MAAM0E,OACV,qBAAKzD,UAAWC,IAAOwD,MAAvB,SAA+B7D,KAAKb,MAAM0E,WAG9C,qBAAKzD,UAAWC,IAAO6G,QAAvB,SACE,6BAAKvH,EAAQwH,sBAIjB,W,GAxOU1F,aA6PPE,uBAfS,SAACxC,GACvB,MAAO,CACLQ,QAASR,EAAMyC,SAASC,gBACxBgD,OAAQ1F,EAAMyC,SAASiD,WAIA,SAACuC,GAC1B,MAAO,CACL9C,mBAAoB,SAAC+C,GAAD,OAAcD,EAAS/C,YAAYgD,KACvDjC,qBAAsB,SAACT,GAAD,OAAQyC,EAASE,YAAW3C,KAClDc,aAAc,kBAAM2B,EAASA,EAASG,oBAI3B5F,CAA6C6B","file":"static/js/5.f60dda33.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"product\":\"Product_product__Pic6D\",\"title\":\"Product_title__2Vhmj\",\"price\":\"Product_price__pibV3\",\"quantityinput\":\"Product_quantityinput__3EkPH\",\"basketmodal\":\"Product_basketmodal__L9uv6\",\"basket\":\"Product_basket__3PI_-\",\"error\":\"Product_error__37_GV\",\"productinfo\":\"Product_productinfo__3vfDt\",\"continueshoppingbtn\":\"Product_continueshoppingbtn__1GdCm\",\"checkoutbtn\":\"Product_checkoutbtn__2axGv\",\"sizecontainer\":\"Product_sizecontainer__3mrmO\",\"qtybtn1\":\"Product_qtybtn1__2mBnT\",\"qtybtn2\":\"Product_qtybtn2__2Q_FQ\",\"gobackbtn\":\"Product_gobackbtn__leJnS\",\"qtybtn\":\"Product_qtybtn__1guil\",\"addtocartbtn\":\"Product_addtocartbtn__3MjGk\",\"column2\":\"Product_column2__3W6fM\",\"column1\":\"Product_column1__23wUu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"next\":\"ProductImageCarousel_next__1IO8X\",\"myslides\":\"ProductImageCarousel_myslides__31_Lb\",\"slideshowcontainer\":\"ProductImageCarousel_slideshowcontainer__3ZdOu\",\"prev\":\"ProductImageCarousel_prev__ph80r\",\"dot\":\"ProductImageCarousel_dot__3Wn3r\",\"active\":\"ProductImageCarousel_active__8fR8P\",\"imagegallery\":\"ProductImageCarousel_imagegallery__wkSu4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reviewcontainer\":\"Reviews_reviewcontainer__2hUWQ\",\"reviewdivider\":\"Reviews_reviewdivider__3p2YE\"};","/* NPM packages */\nimport React, { Component } from 'react';\nimport Media from 'react-media';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\n/* CSS */\n\nimport styles from './ProductImageCarousel.module.css';\n\nclass ProductImageCarousel extends Component {\n  state = {\n    productId: '',\n    selectedImage: 0,\n  };\n\n  moveImageByArrow = (direction) => {\n    if (direction === 'left' && this.state.selectedImage !== 0) {\n      return this.setState((prevState) => ({\n        selectedImage: prevState.selectedImage - 1,\n      }));\n    } else if (\n      direction === 'right' &&\n      this.state.selectedImage !== this.props.product.images.length - 1\n    ) {\n      return this.setState((prevState) => ({\n        selectedImage: prevState.selectedImage + 1,\n      }));\n    }\n  };\n\n  moveImagesByDot = (index) => {\n    this.setState((prevState) => ({\n      selectedImage: index,\n    }));\n  };\n\n  render() {\n    let { images } = this.props.product;\n\n    let imageButtons = images.map((image, index) => (\n      <span\n        key={index}\n        className={styles.dot}\n        onClick={() => this.moveImagesByDot(index)}\n        style={\n          index === this.state.selectedImage\n            ? { backgroundColor: '#f1c40f' }\n            : null\n        }></span>\n    ));\n\n    let imageGallery = images.map((image, index) => (\n      <span\n        key={index}\n        onClick={() => this.moveImagesByDot(index)}\n        style={\n          index === this.state.selectedImage\n            ? { border: '3px solid #f1c40f' }\n            : null\n        }>\n        <img\n          src={`${process.env.REACT_APP_BACK_END_URL}/${image}`}\n          alt={'hello'}></img>\n      </span>\n    ));\n\n    return (\n      <>\n        <div className={styles.slideshowcontainer}>\n          <div className={`${styles.myslides} ${styles.fade}`}>\n            <button\n              disabled={this.state.selectedImage === 0}\n              className={styles.prev}\n              onClick={() => this.moveImageByArrow('left')}>\n              <i className='fas fa-angle-left'></i>\n            </button>\n            <img\n              src={`${process.env.REACT_APP_BACK_END_URL}/${\n                images[this.state.selectedImage]\n              }`}\n              alt={'hello'}></img>\n            <button\n              className={styles.next}\n              onClick={() => this.moveImageByArrow('right')}>\n              <i className='fas fa-angle-right'></i>\n            </button>\n          </div>\n        </div>\n        <br></br>\n        <div style={{ textAlign: 'center' }}>\n          {' '}\n          <i className='fas fa-angle-left'></i> &nbsp;\n          {this.state.selectedImage + 1} &nbsp; / &nbsp; {images.length} &nbsp;\n          <i className='fas fa-angle-right'></i>\n        </div>\n        <Media\n          query={'(max-width: 768px)'}\n          render={() => (\n            <div style={{ textAlign: 'center' }}>{imageButtons}</div>\n          )}\n        />\n        <Media\n          query={'(min-width: 768px)'}\n          render={() => (\n            <div\n              className={styles.imagegallery}\n              style={{ textAlign: 'center' }}>\n              {imageGallery}\n            </div>\n          )}\n        />\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    product: state.products.selectedProduct,\n  };\n};\n\nexport default withRouter(connect(mapStateToProps)(ProductImageCarousel));\n","/* NPM packages */\n\nimport React, { Component } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { CSSTransition } from 'react-transition-group';\nimport { faStar } from '@fortawesome/free-solid-svg-icons';\n\n/* CSS */\n\nimport styles from './Reviews.module.css';\n\nclass Reviews extends Component {\n  state = {\n    showReviews: false,\n    averageReviewRating: null,\n    stars: [1, 2, 3, 4, 5],\n  };\n\n  componentDidMount = () => {\n    let { reviews } = this.props;\n\n    let averageRating =\n      reviews.length > 0\n        ? reviews.reduce((a, b) => {\n            return a + b.rating;\n          }, 0) / reviews.length\n        : 0;\n    this.setState({ averageReviewRating: averageRating });\n  };\n\n  render() {\n    let { reviews } = this.props;\n\n    return (\n      <div\n        className={styles.reviewcontainer}\n        onClick={() =>\n          this.setState((prevState) => ({\n            showReviews: !prevState.showReviews,\n          }))\n        }>\n        {this.state.averageReviewRating &&\n          this.state.stars.map((star, index) => {\n            let colour =\n              star <= this.state.averageReviewRating ? '#f1c40f' : null;\n            return (\n              <span key={`star${star}`} style={{ color: `${colour}` }}>\n                <FontAwesomeIcon icon={faStar} />\n              </span>\n            );\n          })}\n        &nbsp; ({reviews.length})<span>&nbsp;Click for review details</span>\n        {reviews.length === 0 && (\n          <span>(0) Be the first to review this product</span>\n        )}\n        <CSSTransition\n          in={this.state.showReviews}\n          timeout={400}\n          classNames='reviews'\n          unmountOnExit>\n          <div>\n            {reviews.map((review, index) => {\n              let stars = this.state.stars.map((star, index) => {\n                let colour = star <= review.rating ? '#f1c40f' : null;\n                return (\n                  <span key={`review${index}`} style={{ color: `${colour}` }}>\n                    <FontAwesomeIcon icon={faStar} />\n                  </span>\n                );\n              });\n              return (\n                <div key={`reviewer${index}`}>\n                  <hr className={styles.reviewdivider} />\n                  {stars} by {review.firstName}\n                  <br />\n                  {review.comment}\n                </div>\n              );\n            })}\n          </div>\n        </CSSTransition>\n      </div>\n    );\n  }\n}\n\nexport default Reviews;\n","/* NPM packages */\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\n/* css */\n\nimport styles from './Product.module.css';\n\n/* Components */\n\nimport ProductImageCarousel from '../Components/UIelements/ProductImageCarousel';\nimport Reviews from '../Components/UIelements/Reviews';\n\n/* Action creators */\n\nimport {\n  addToBasket,\n  getProduct,\n  clearSelectedProduct,\n} from '../Actions/products';\n\nclass Product extends Component {\n  state = {\n    size: '',\n    showBasketModal: false,\n    dropdownSelected: false,\n    quantity: 0,\n    error: '',\n  };\n\n  selectSize = (e) => {\n    this.setState({ size: e.target.value, error: '' });\n  };\n\n  selectQuantity = (operator) => {\n    let { product } = this.props;\n    if (this.state.size === '') {\n      return this.setState({ error: 'Please select a size first' });\n    }\n    if (operator === '-') {\n      if (this.state.quantity !== 0) {\n        this.setState((prevState) => ({\n          quantity: prevState.quantity - 1,\n          error: '',\n        }));\n      }\n    }\n    if (operator === '+' && this.state.size !== 0) {\n      if (this.state.quantity < product.size[0][this.state.size]) {\n        this.setState((prevState) => ({\n          quantity: prevState.quantity + 1,\n        }));\n      } else {\n        this.setState({\n          error: `Maximum quantity in ${this.state.size} selected`,\n        });\n      }\n    }\n  };\n\n  continueShopping = () => {\n    this.setState({ showBasketModal: false });\n  };\n\n  addToBasket = () => {\n    /* Destructuring action creators */\n    let { addProductToBasket } = this.props;\n\n    /* Destructuring state from redux */\n    let { images, price, _id, name } = this.props.product;\n\n    if (this.state.size !== '' && this.state.quantity !== 0) {\n      let itemInfo = {\n        size: this.state.size,\n        qtyOfSizeInStock: this.props.product.size[0][this.state.size],\n        quantity: this.state.quantity,\n        name: name,\n        id: _id,\n        price: price,\n        images: images,\n        localStorageKey: this.props.basket.length,\n      };\n      addProductToBasket(itemInfo);\n      this.setState({ showBasketModal: true });\n    } else {\n      this.setState({ error: 'Please select a size and quantity' });\n    }\n  };\n\n  componentDidUpdate = (newProps) => {\n    // i have used component did mount because if the user searches for a product and clicks on it and the screen is\n    // already on a product, the router will not re render, to make this happen I am using this lifecycle method to\n    // check if the product id has changed and if so get the new product\n    if (newProps.location.pathname !== this.props.match.url) {\n      let { getProductFromServer } = this.props;\n      let id = newProps.history.location.pathname.split('/')[2];\n      getProductFromServer(id);\n    }\n  };\n\n  componentDidMount = () => {\n    let { getProductFromServer } = this.props;\n    let { id } = this.props.match.params;\n    getProductFromServer(id);\n  };\n\n  componentWillUnmount = () => {\n    this.props.clearProduct();\n  };\n\n  render() {\n    let { product } = this.props;\n\n    let { showBasketModal } = this.state;\n\n    let dropdown = null;\n\n    if (product.length !== 0) {\n      let sizeKeys = Object.keys(product.size[0]);\n      dropdown = (\n        <>\n          {sizeKeys.map((key, index) => (\n            <option\n              key={`sizeKey${index}`}\n              value={key}\n              disabled={product.size[0][key] === 0}\n              onClick={(e) => this.selectSize(e)}>\n              {key}\n              &nbsp;&nbsp;&nbsp;&nbsp;\n              {product.size[0][key]} in stock\n            </option>\n          ))}\n        </>\n      );\n    }\n\n    return (\n      <>\n        {product ? (\n          <div className={styles.product}>\n            {showBasketModal && (\n              <div className={styles.basketmodal}>\n                <div className={styles.basket}>\n                  <h2>\n                    {' '}\n                    <i className='fas fa-check'></i>\n                    &nbsp;Added to cart{' '}\n                  </h2>\n                  <button\n                    onClick={() => this.continueShopping()}\n                    className={styles.continueshoppingbtn}>\n                    Continue shopping\n                  </button>\n                  <Link\n                    className={styles.checkoutbtn}\n                    style={{ textDecoration: 'none', color: 'white' }}\n                    to={'/shopping-basket'}>\n                    Checkout now\n                  </Link>\n                </div>\n              </div>\n            )}\n            <p className='{styles.title}'></p>\n            {product.length !== 0 && product.reviews.length !== 0 ? (\n              <Reviews reviews={product.reviews} />\n            ) : null}\n            <h2>\n              <span\n                className={styles.gobackbtn}\n                onClick={() => this.props.history.goBack()}>\n                Go back\n              </span>\n            </h2>\n            <hr></hr>\n            {product.length !== 0 && (\n              <ProductImageCarousel images={product.images} />\n            )}\n            <div className={styles.productinfo}>\n              <div className={styles.column1}>\n                {' '}\n                <p className={styles.price}>£{product.price}</p>\n                {product.colour && <p>colour: {product.colour}</p>}\n                <div>{product.name}</div>\n                <div className={styles.sizecontainer}>\n                  <form\n                    onClick={() =>\n                      this.setState((prevState) => ({\n                        dropdownSelected: !prevState.dropdownSelected,\n                      }))\n                    }>\n                    {this.state.size !== '' ? (\n                      <span>{this.state.size}</span>\n                    ) : (\n                      <span>Please select</span>\n                    )}{' '}\n                    {!this.state.dropdownSelected && (\n                      <span>\n                        <i className='fas fa-arrow-down'></i>\n                      </span>\n                    )}\n                    {this.state.dropdownSelected && dropdown}\n                  </form>\n                </div>\n                <br></br>\n                <div className={styles.quantity}>\n                  <form>Quantity:</form>\n                  <button\n                    className={styles.qtybtn1}\n                    onClick={() => this.selectQuantity('-')}>\n                    -\n                  </button>\n                  <input\n                    onChange={(e) =>\n                      this.setState({ quantity: e.target.value })\n                    }\n                    value={this.state.quantity}\n                    className={styles.quantityinput}\n                    type='input'></input>\n                  <button\n                    className={styles.qtybtn2}\n                    onClick={() => this.selectQuantity('+')}>\n                    +\n                  </button>\n                  <br />\n                  <br />\n                  {product.stock !== 0 ? (\n                    <span style={{ color: 'red' }}>\n                      Hurry only {product.stock} left in stock\n                    </span>\n                  ) : (\n                    <span style={{ color: 'red' }}>Sorry out of stock</span>\n                  )}\n                </div>\n                <button\n                  onClick={() => this.addToBasket()}\n                  className={styles.addtocartbtn}>\n                  {' '}\n                  <i\n                    className='fas fa-shopping-cart'\n                    style={{ width: '1rem', height: '1rem' }}>\n                    {' '}\n                  </i>\n                  &nbsp; &nbsp;Add to Basket\n                </button>\n                {this.state.error && (\n                  <div className={styles.error}>{this.state.error}</div>\n                )}\n              </div>\n              <div className={styles.column2}>\n                <h3>{product.description}</h3>\n              </div>\n            </div>\n          </div>\n        ) : null}\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    product: state.products.selectedProduct,\n    basket: state.products.basket,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    addProductToBasket: (itemInfo) => dispatch(addToBasket(itemInfo)),\n    getProductFromServer: (id) => dispatch(getProduct(id)),\n    clearProduct: () => dispatch(dispatch(clearSelectedProduct())),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Product);\n"],"sourceRoot":""}