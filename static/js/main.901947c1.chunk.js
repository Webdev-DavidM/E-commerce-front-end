(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[1],{10:function(e,t,n){"use strict";n.d(t,"i",(function(){return l})),n.d(t,"l",(function(){return d})),n.d(t,"h",(function(){return b})),n.d(t,"v",(function(){return j})),n.d(t,"c",(function(){return p})),n.d(t,"m",(function(){return O})),n.d(t,"d",(function(){return h})),n.d(t,"n",(function(){return g})),n.d(t,"o",(function(){return f})),n.d(t,"q",(function(){return m})),n.d(t,"r",(function(){return _})),n.d(t,"u",(function(){return v})),n.d(t,"e",(function(){return S})),n.d(t,"a",(function(){return y})),n.d(t,"x",(function(){return w})),n.d(t,"s",(function(){return E})),n.d(t,"t",(function(){return x})),n.d(t,"p",(function(){return C})),n.d(t,"j",(function(){return N})),n.d(t,"b",(function(){return T})),n.d(t,"f",(function(){return R})),n.d(t,"g",(function(){return I})),n.d(t,"k",(function(){return k})),n.d(t,"w",(function(){return D}));var r=n(61),c=n(12),a=n.n(c),s=n(2),o=n(25),i=n(26),u=n.n(i),l=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n){var r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"PRODUCTS_REQUESTED"}),t.prev=1,t.next=4,u()("".concat("","/products/").concat(e));case 4:200===(r=t.sent).status&&(c=r.data.map((function(e){if(0===e.reviews.length)return Object(s.a)(Object(s.a)({},e),{},{rating:0});if(1===e.reviews.length)return Object(s.a)(Object(s.a)({},e),{},{rating:e.reviews[0].rating});var t=e.reviews.length,n=e.reviews.reduce((function(e,t){return e+t.rating}),0)/t;return Object(s.a)(Object(s.a)({},e),{},{rating:n})})),n({type:"PRODUCTS_SUCCESS",products:c})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:"PRODUCTS_FAIL",error:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},d=function(){return function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"ALLPRODUCTS_STARTED"}),e.prev=1,e.next=4,u()("".concat("","/products/all"));case 4:200===(n=e.sent).status&&t({type:"ALLPRODUCTS_SUCCESS",products:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"ALLPRODUCTS_FAIL",error:e.t0.response||e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"PRODUCTS_REQUESTED"}),t.prev=1,t.next=4,u()("".concat("","/products/product/").concat(e));case 4:200===(r=t.sent).status&&n({type:"PRODUCT_SUCCESS",product:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:"PRODUCTS_FAIL",error:t.t0.response||t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e){var t=e.productId,n=Object(r.a)(e,["productId"]);return function(){var e=Object(o.a)(a.a.mark((function e(r){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:"REVIEW_SENT"}),e.prev=1,e.next=4,u()({method:"post",url:"".concat("","/products/review/").concat(t),data:{data:n}});case 4:200===(c=e.sent).status&&r({type:"REVIEW_SUCCESS",product:c.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r({type:"REVIEW_FAIL",error:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},p=function(){return{type:"CLEAR_PRODUCTS"}},O=function(e){return{type:"SEARCH_PRODUCTS",searchValue:e}},h=function(){return{type:"CLEAR_REVIEW_STATUS"}},g=function(e){return{type:"CATEGORY_CHOSEN",category:e}},f=function(e){return{type:"SHOW_DROP_DOWN",bool:e}},m=function(e){return{type:"SHOW_SIDE_MENU",bool:e}},_=function(e){return{type:"SHOW_SUB_CATEGORY",bool:e}},v=function(e){return{type:"SUB_CAT_SELECTED",subcat:e}},S=function(){return{type:"CLEAR_SELECTED_PRODUCTS"}},y=function(e){return{type:"ADD_TO_BASKET",itemInfo:e}},w=function(e,t){return{type:"UPDATE_BASKET",noPos:e,quantity:t}},E=function(e){return{type:"SORT_BY_BEST_REVIEWS",products:e.map((function(e){if(0===e.reviews.length)return Object(s.a)(Object(s.a)({},e),{},{rating:0});if(1===e.reviews.length)return Object(s.a)(Object(s.a)({},e),{},{rating:e.rating});var t=e.reviews.length,n=e.reviews.reduce((function(e,t){return e+t.rating}),0);return Object(s.a)(Object(s.a)({},e),{},{rating:n/t})})).sort((function(e,t){return e.rating<t.rating?1:-1}))}},x=function(e,t){return{type:"FILTER_PRICE_RANGE",lower:e,higher:t}},C=function(){return{type:"FILTERED_IN_STOCK"}},N=function(e){return{type:"FILTERED_BRANDS",brands:e}},T=function(e){return l(),{type:"CHOSEN_BRAND",brand:e}},R=function(e){return{type:"DELETE_ITEM_FROM_BASKET",id:e.id,size:e.size}},I=function(e){return{type:"EMPTY_BASKET"}},k=function(e){return{type:"RESET_ALL_FILTERS",bool:e}},D=function(e){return{type:"UPDATE_PRICE_RANGE",price:e.price,higher:e.higher}}},22:function(e,t,n){e.exports={landingpage:"LandingPage_landingpage__1iu_j",title2:"LandingPage_title2__1sZp1",mainimagemobile:"LandingPage_mainimagemobile__35TLt",mainimagedesktop:"LandingPage_mainimagedesktop__JYoUa",running:"LandingPage_running__3KYBq",catdetailsrunning:"LandingPage_catdetailsrunning__2wJsu",cycling:"LandingPage_cycling__1rmui",catdetailscycling:"LandingPage_catdetailscycling__1jP-c",swimming:"LandingPage_swimming___Du1A",catdetailsswimming:"LandingPage_catdetailsswimming__1iHId",outdoor:"LandingPage_outdoor__3gm-W",catdetailsoutdoor:"LandingPage_catdetailsoutdoor__uW9DF"}},28:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return b}));var r=n(12),c=n.n(r),a=n(25),s=n(26),o=n.n(s),i=function(e,t){return function(){var n=Object(a.a)(c.a.mark((function n(r){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(d()),n.prev=1,n.next=4,o()({method:"post",url:"".concat("","/users/login"),data:{email:e,password:t}});case 4:202===(a=n.sent).status&&(r({type:"LOGIN_SUCCESS",user:a.data}),j(a.data)),401===a.status&&r({type:"LOGIN_FAIL",error:a.data}),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0),n.t0.request&&0===n.t0.request.status&&r({type:"LOGIN_FAIL",error:"Network error, please try again"}),n.t0.request&&401===n.t0.request.status&&r({type:"LOGIN_FAIL",error:"Unauthorised"});case 14:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()},u=function(){return localStorage.removeItem("userInfo"),{type:"USER_LOGGED_OUT"}},l=function(e){var t=e.email,n=e.address,r=e.password,s=e.lastName,i=e.firstName;return function(){var e=Object(a.a)(c.a.mark((function e(a){var u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(d()),e.prev=1,e.next=4,o()({method:"post",url:"".concat("","/users/register"),data:{email:t,password:r,firstName:i,lastName:s,address:n,reviews:[]}});case 4:201===(u=e.sent).status&&(a({type:"LOGIN_SUCCESS",user:u.data}),j(u.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0.request&&0===e.t0.request.status&&a({type:"LOGIN_FAIL",error:"Network error, please try again"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},d=function(){return{type:"LOGIN_STARTED"}},b=function(){var e=null,t=JSON.parse(localStorage.getItem("userInfo"));if(t){var n=(new Date).getTime(),r=Object.entries(t).filter((function(e){return"seconds"===e[0]}));return parseInt(r[0][1])+36e5<parseInt(n)?localStorage.removeItem("userInfo"):e=t,e}},j=function(e){localStorage.setItem("userInfo",JSON.stringify(e))}},4:function(e,t,n){e.exports={navbar:"NavBar_navbar__3L-WI",user:"NavBar_user__3iNNw",admin:"NavBar_admin__2yTRL",cart:"NavBar_cart__3X5Br",searchitem:"NavBar_searchitem__38Pze",logo:"NavBar_logo__2b9K_",search:"NavBar_search__27muG",results:"NavBar_results__2BT58",searchicon:"NavBar_searchicon__37RA9",cartdesktop:"NavBar_cartdesktop__--zPI",menu:"NavBar_menu__35aKG",store:"NavBar_store__1WRDm",links:"NavBar_links__VaUPB",categorylinks:"NavBar_categorylinks__25Tg4",sidemenu:"NavBar_sidemenu__ZDTA6",closebutton:"NavBar_closebutton__1kh64",sidecategories:"NavBar_sidecategories__eaHBo",sidesubcategories:"NavBar_sidesubcategories__2OaXd",categoryItem:"NavBar_categoryItem__2B6Yz",categoryItemMove:"NavBar_categoryItemMove__2rkby",dropdown:"NavBar_dropdown__HEr5k",categories:"NavBar_categories__hVmMN",subcategories:"NavBar_subcategories__7D0zJ",categoryImage:"NavBar_categoryImage__bQaQA"}},53:function(e,t,n){e.exports={shopbutton:"ShopButton_shopbutton__2O7W3"}},94:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),a=n(27),s=n.n(a),o=n(15),i=n(16),u=n(18),l=n(17),d=n(6),b=n(9),j=n(22),p=n.n(j),O=n(53),h=n.n(O),g=function(e){var t=e.url,n=e.name,c=e.width,a=e.height;return Object(r.jsx)("div",{className:h.a.shopbutton,style:{width:"".concat(c),height:"".concat(a)},children:Object(r.jsxs)(d.b,{to:"".concat(t),children:[n," "]})})},f=function(){return Object(r.jsxs)("div",{className:p.a.landingpage,children:[Object(r.jsxs)("header",{children:["THE UK'S ",Object(r.jsx)("span",{children:"\xa0 NO.1 \xa0"})," ONLINE FITNESS STORE"]}),Object(r.jsx)("div",{className:p.a.mainimagemobile,children:Object(r.jsx)("img",{src:"".concat("/E-commerce-front-end","/images/cycling-desktop.jpg"),alt:"Man on a bike smiling"})}),Object(r.jsx)("div",{className:p.a.mainimagedesktop,children:Object(r.jsx)("img",{src:"".concat("/E-commerce-front-end","/images/cycling-desktop.jpg"),alt:"Woman on a bike riding"})}),Object(r.jsxs)("header",{className:p.a.title2,children:[Object(r.jsxs)("strong",{children:["DM Sports ",Object(r.jsx)("span",{children:" + \xa0"})]}),"NEXT DAY DELIVERY AND FREE RETURNS FOR ONLY \xa0"," ",Object(r.jsx)("strong",{children:"\xa39.99"}),Object(r.jsx)("div",{children:Object(r.jsx)(g,{url:"/run",name:"SHOP NOW",width:"8rem"})})]}),Object(r.jsxs)("div",{className:p.a.running,children:[Object(r.jsx)("img",{src:"".concat("/E-commerce-front-end","/images/running-montage.png"),alt:"Man running and red running jacket"}),Object(r.jsxs)("div",{className:p.a.catdetailsrunning,children:[" ",Object(r.jsx)("p",{children:"RUN"}),Object(r.jsx)(g,{url:"/run",name:"SHOP"})]})]}),Object(r.jsxs)("div",{className:p.a.cycling,children:[Object(r.jsx)("img",{src:"".concat("/E-commerce-front-end","/images/cycling-montage.png"),alt:"cyclist smiling and bike"}),Object(r.jsxs)("div",{className:p.a.catdetailscycling,children:[" ",Object(r.jsx)("p",{children:"CYCLE"}),Object(r.jsx)(g,{url:"/cycle",name:"SHOP"})]})]}),Object(r.jsxs)("div",{className:p.a.swimming,children:[Object(r.jsx)("img",{src:"".concat("/E-commerce-front-end","/images/swimming-montage.png"),alt:"woman swimming and a swim suit"}),Object(r.jsxs)("div",{className:p.a.catdetailsswimming,children:[" ",Object(r.jsx)("p",{children:"SWIM"}),Object(r.jsx)(g,{url:"/swim",name:"SHOP"})]})]})]})},m=n(37),_=n(108),v=n(11),S=n(4),y=n.n(S),w=function(){return Object(r.jsx)("div",{className:y.a.logo,children:Object(r.jsx)(d.c,{to:"/",children:Object(r.jsx)("img",{src:"https://webdev-davidm.github.io/E-commerce-front-end/images/logo.png",alt:"DM sports logo"})})})},E=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.basketValue,n=e.basketNumber,c=t().Total,a=0!==n.length&&Object(r.jsxs)("span",{children:["\xa0",c,"\xa0\xa0(",n,")"]});return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:y.a.cartdesktop,style:{width:"5rem",height:"2rem",color:"#2980b9"},children:Object(r.jsxs)(d.b,{to:"/shopping-basket",color:"red",children:[Object(r.jsx)("i",{className:"fas fa-shopping-cart",style:{width:"0.9rem",height:"0.9rem"},children:" "}),a]})}),Object(r.jsxs)("div",{className:y.a.cart,style:{width:"1.5rem",height:"1.5rem"},children:[" ",Object(r.jsx)(d.b,{to:"/shopping-basket",children:Object(r.jsx)("i",{color:"#2980b9",className:"fas fa-shopping-cart",style:{width:"100%",height:"100%"},children:" "})})," ",Object(r.jsx)("span",{children:n})]})]})}}]),n}(c.Component),x=Object(v.b)((function(e){return{basketNumber:e.products.basket.length,basketValue:function(){var t=0;return 0!==e.products.basket.length&&(t=e.products.basket.map((function(e){return e.price*e.quantity})).reduce((function(e,t){return e+t}))),{Total:t}}}}))(E),C=n(10),N=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={showResults:!1,input:""},e.componentDidMount=function(){e.props.getProducts()},e.userInput=function(t){e.setState((function(e){return{showResults:!0,input:t.target.value}})),t.target.value.length>1&&e.props.search(t.target.value),0===t.target.value.length&&(e.props.getProducts(),e.setState({showResults:!1})),e.state.input.length>t.target.value.length&&e.props.search(t.target.value)},e.selectedItem=function(t){e.setState({showResults:!1,input:""}),e.props.history.push("/product/".concat(t))},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:y.a.search,children:[Object(r.jsx)("input",{disabled:!this.props.products,autoComplete:"off",value:this.state.input,onChange:function(t){return e.userInput(t)}}),Object(r.jsxs)("div",{className:y.a.searchicon,children:[Object(r.jsx)("i",{className:"fas fa-search "})," "]}),Object(r.jsx)(_.a,{in:this.state.showResults,timeout:500,classNames:"searchresultsdropdown",unmountOnExit:!0,children:Object(r.jsxs)("div",{className:y.a.results,children:[" ",this.props.products?0!==Object.keys(this.props.products)&&this.props.products.map((function(t,n){return Object(r.jsxs)("div",{className:y.a.searchitem,onClick:function(){return e.selectedItem(t._id)},children:[t.name,Object(r.jsx)("hr",{})]},n)})):null]})})]})})}}]),n}(c.Component),T=Object(b.g)(Object(v.b)((function(e){return{products:e.products.searchProducts}}),(function(e){return{getProducts:function(){return e(Object(C.l)())},search:function(t){return e(Object(C.m)(t))}}}))(N)),R=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).goToCategory=function(t){e.props.showDropDown(!1),e.props.history.push("".concat(e.props.chosenCategory,"/").concat(e.props.chosenSubCategory,"/").concat(t))},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.showSubCat,c=t.subCatToShow,a=t.showSubCategory,s=t.showDropDown,o=this.props,i=o.categories,u=o.chosenCategory,l=o.chosenSubCategory,b=Object.keys(i[u]);return Object(r.jsxs)("div",{className:y.a.dropdown,onMouseEnter:function(){return e.props.mouseEnter()},onMouseLeave:function(){return s(!1)},children:[Object(r.jsx)("div",{className:y.a.categories,children:b.map((function(e){var t=l===e?y.a.categoryItemMove:"";return Object(r.jsxs)("div",{className:"".concat(y.a.categoryItem," ").concat(t," "),onMouseEnter:function(e){c(e.target.textContent),n(!0)},children:[e,Object(r.jsx)("i",{className:"fas fa-arrow-right ".concat(t)})]},e)}))}),Object(r.jsx)("div",{className:y.a.subcategories,children:a?i[u][l].map((function(e,t){return Object(r.jsx)("div",{children:Object(r.jsx)(d.b,{to:"/".concat(u,"/").concat(l,"/").concat(e),children:e})},t)})):null})]})}}]),n}(c.Component),I=Object(b.g)(Object(v.b)((function(e){return{categories:e.products.categories,chosenCategory:e.products.chosenCategory,chosenSubCategory:e.products.chosenSubCategory,showSubCategory:e.products.showSubCategory}}),(function(e){return{showSubCat:function(t){return e(Object(C.r)(t))},subCatToShow:function(t){return e(Object(C.u)(t))},showDropDown:function(t){return e(Object(C.o)(t))}}}))(R)),k=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).goToCategory=function(t){e.props.showSideMenu(!1),e.props.history.push("".concat(e.props.chosenCategory,"/").concat(e.props.chosenSubCategory,"/").concat(t))},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.showSubCat,c=t.subCatToShow,a=t.showSideMenu,s=this.props,o=s.categories,i=s.chosenCategory,u=s.chosenSubCategory,l=s.showSubCategory,d=Object.keys(o[i]);return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:y.a.sidemenu,onMouseLeave:function(){return a(!1)},children:[Object(r.jsx)("div",{className:y.a.maincats}),Object(r.jsx)("div",{className:y.a.sidecategories,children:d.map((function(e,t){var a=u===e?y.a.categoryItemMove:"";return Object(r.jsxs)("div",{className:"".concat(y.a.categoryItem," ").concat(a," "),onClick:function(e){c(e.target.textContent),n(!0)},children:[e,Object(r.jsx)("i",{className:"fas fa-arrow-right ".concat(a)})]},t)}))}),Object(r.jsx)("div",{className:y.a.sidesubcategories,children:l?o[i][u].map((function(t){return Object(r.jsx)("div",{onClick:function(){return e.goToCategory(t)},children:t},t)})):null}),Object(r.jsx)("div",{className:y.a.closebutton,onClick:function(){return a(!1)},style:{width:"1.6rem",height:"1.6rem"},children:Object(r.jsx)("i",{className:"fas fa-window-close",style:{width:"inherit",height:"inherit",backgroundColor:"white"}})})]})})}}]),n}(c.Component),D=Object(b.g)(Object(v.b)((function(e){return{categories:e.products.categories,chosenCategory:e.products.chosenCategory,chosenSubCategory:e.products.chosenSubCategory,showSubCategory:e.products.showSubCategory}}),(function(e){return{showSubCat:function(t){return e(Object(C.r)(t))},subCatToShow:function(t){return e(Object(C.u)(t))},showSideMenu:function(t){return e(Object(C.q)(t))}}}))(k)),L=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this;console.log(this.props.admin);var t=this.props,n=t.showDrop,c=t.showSide,a=t.showSubCat,s=t.signedIn,o=this.props,i=o.chosenCategory,u=o.showDropDown,l=o.showSideMenu,b=o.clearProds,j=o.getNewProducts;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:y.a.navbar,children:[Object(r.jsx)(w,{size:"2rem"}),Object(r.jsx)("div",{className:y.a.user,onMouseEnter:function(){return l(!0)},style:{width:"1.3rem",height:"1.3rem",color:"#ecf0f1"},children:" "}),Object(r.jsx)(T,{}),Object(r.jsx)("div",{className:y.a.user,onClick:function(){s?e.props.history.push("/account"):e.props.history.push("/sign-in")},style:{width:"1.3rem",height:"1.3rem",color:"#ecf0f1",marginLeft:"auto"},children:Object(r.jsx)("i",{className:"fas fa-user",style:{width:"100%",height:"100%"}})}),s&&this.props.admin?Object(r.jsx)(d.b,{className:y.a.admin,to:"/admin",children:"Admin"}):null,Object(r.jsx)(x,{}),Object(r.jsxs)("div",{className:y.a.links,children:[s?this.props.admin?Object(r.jsx)(d.b,{to:"/admin",children:"Admin"}):Object(r.jsx)(d.b,{to:"/account",children:"Your Account"}):Object(r.jsx)(d.b,{to:"/sign-in",children:"Sign in"}),Object(r.jsx)(d.b,{to:"/stores",children:"Stores"})]})]})}),Object(r.jsxs)("div",{className:y.a.categorylinks,children:[Object(r.jsx)(d.b,{onClick:function(){a(!1),u(!0),l(!0),i("cycle"),b(),j("cycle")},onMouseLeave:function(){return e.props.mouseEnter&&u(!1)},to:"/cycle",children:"CYCLE"}),Object(r.jsx)(d.b,{onClick:function(e){a(!1),i("run"),u(!0),l(!0),b(),j("run")},onMouseLeave:function(){return e.props.mouseEnter&&u(!1)},to:"/run",children:"RUN"}),Object(r.jsx)(d.b,{onClick:function(){a(!1),u(!0),l(!0),i("swim"),b(),j("swim")},onMouseLeave:function(){return e.props.mouseEnter&&u(!1)},to:"/swim",children:"SWIM"})]}),Object(r.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(r.jsx)(m.a,{query:"(min-width: 768px)",render:function(){return Object(r.jsx)(_.a,{in:n,timeout:300,classNames:"menufade",unmountOnExit:!0,children:Object(r.jsx)(I,{mouseEnter:function(){return u(!0)},mouseLeave:function(){return u(!1)},closeMain:e.closeDropMenu})})}})}),Object(r.jsx)(m.a,{query:"(max-width: 768px)",render:function(){return Object(r.jsx)(_.a,{in:c,timeout:300,classNames:"sidemenu",unmountOnExit:!0,children:Object(r.jsx)(D,{})})}})]})}}]),n}(c.Component),P=Object(b.g)(Object(v.b)((function(e){return{showSide:e.products.showSideMenu,showDrop:e.products.showDropDownMenu,signedIn:e.user.signedIn,admin:e.user.user.admin,products:e.products.products}}),(function(e){return{showSubCat:function(t){return e(Object(C.r)(t))},chosenCategory:function(t){return e(Object(C.n)(t))},showDropDown:function(t){return e(Object(C.o)(t))},showSideMenu:function(t){return e(Object(C.q)(t))},clearProds:function(){return e(C.c)},getNewProducts:function(t){return e(Object(C.i)(t))}}}))(L)),A=n(107),U=n(28),B=function(e){var t=e.component;return Object(U.a)()?Object(r.jsx)(t,{}):Object(r.jsx)(b.a,{to:"/"})},M=function(e){var t=e.component,n=Object(U.a)();return console.log(n),n&&n.admin?Object(r.jsx)(t,{}):Object(r.jsx)(b.a,{to:"/"})},F=(n(94),Object(c.lazy)((function(){return n.e(9).then(n.bind(null,140))}))),W=Object(c.lazy)((function(){return n.e(15).then(n.bind(null,141))})),H=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(14)]).then(n.bind(null,142))})),z=Object(c.lazy)((function(){return n.e(16).then(n.bind(null,143))})),G=Object(c.lazy)((function(){return n.e(17).then(n.bind(null,144))})),V=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,151))})),Y=Object(c.lazy)((function(){return n.e(8).then(n.bind(null,152))})),q=Object(c.lazy)((function(){return n.e(7).then(n.bind(null,153))})),K=Object(c.lazy)((function(){return n.e(11).then(n.bind(null,145))})),J=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,150))})),Q=Object(c.lazy)((function(){return n.e(10).then(n.bind(null,146))})),X=Object(c.lazy)((function(){return n.e(13).then(n.bind(null,147))})),Z=Object(c.lazy)((function(){return n.e(12).then(n.bind(null,148))})),$=Object(c.lazy)((function(){return n.e(6).then(n.bind(null,149))})),ee=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={showArrowToTop:!1},e.componentDidMount=function(){window.addEventListener("scroll",(function(){window.scrollY>122&&e.setState({showArrowToTop:!0}),window.innerHeight-122<window.innerHeight-window.scrollY&&e.setState({showArrowToTop:!1})}));var t=Object(U.a)();t&&e.props.addAuthenticateduserToRedux(t);var n=e.props,r=n.basket,c=n.addBasket;0!==r.length&&(Object.keys(localStorage).map((function(e){return"userInfo"!==e&&localStorage.removeItem("".concat(e))})),r.map((function(e,t){return localStorage.setItem("item".concat(t),JSON.stringify(e))})));var a=Object.keys(localStorage).filter((function(e){return!0===/^item/.test(e)}));0===r.length&&a&&a.map((function(e){var t=JSON.parse(localStorage.getItem(e));return c(t)}))},e}return Object(i.a)(n,[{key:"render",value:function(){this.props.adminUser;return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"App",children:[this.props.loadingUser||this.props.loadingProducts||this.props.loadingOrders?Object(r.jsx)("div",{className:"generic-loading-container",children:Object(r.jsx)(A.a,{style:{color:"#f1c40f",size:"4rem"}})}):null,Object(r.jsxs)(d.a,{basename:"".concat("/E-commerce-front-end"),children:[Object(r.jsx)(P,{}),Object(r.jsx)(c.Suspense,{fallback:Object(r.jsx)("div",{className:"spinner-container",children:Object(r.jsx)(A.a,{style:{color:"#f1c40f",size:"4rem"}})}),children:Object(r.jsxs)(b.d,{children:[Object(r.jsx)(b.b,{exact:!0,path:"/",component:f}),Object(r.jsx)(b.b,{exact:!0,path:"/sign-in",component:z}),Object(r.jsx)(b.b,{exact:!0,path:"/sign-up/:email",component:G}),Object(r.jsx)(b.b,{exact:!0,path:"/run",component:q}),Object(r.jsx)(b.b,{exact:!0,path:"/cycle",component:q}),Object(r.jsx)(b.b,{exact:!0,path:"/swim",component:q}),Object(r.jsx)(B,{exact:!0,path:"/account",component:F}),Object(r.jsx)(B,{exact:!0,path:"/check-out",component:$}),Object(r.jsx)(M,{exact:!0,path:"/admin",component:W}),Object(r.jsx)(M,{exact:!0,path:"/admin/create",component:Z}),Object(r.jsx)(b.b,{exact:!0,path:"/admin/product/:id",component:X}),Object(r.jsx)(b.b,{exact:!0,path:"/admin-orders",component:H}),Object(r.jsx)(b.b,{exact:!0,path:"/admin/product/id",component:X}),Object(r.jsx)(b.b,{exact:!0,path:"/order/:id",render:function(){return Object(U.a)()?Object(r.jsx)(Q,{}):Object(r.jsx)(b.a,{to:"/"})}}),Object(r.jsx)(b.b,{exact:!0,path:"/product/:id",component:V}),Object(r.jsx)(b.b,{exact:!0,path:"/shopping-basket",component:Y}),Object(r.jsx)(b.b,{exact:!0,path:"/:category/:type/:subcat",component:J}),Object(r.jsx)(b.b,{component:K})]})})]})]}),Object(r.jsx)(_.a,{in:this.state.showArrowToTop,onClick:function(){return window.scrollTo(0,0)},timeout:500,classNames:"menuarrow",unmountOnExit:!0,children:Object(r.jsx)("div",{className:"menuarrow",children:Object(r.jsx)("i",{className:"fas fa-arrow-circle-up"})})})]})}}]),n}(c.Component),te=Object(v.b)((function(e){return{loadingUser:e.user.loading,loadingProducts:e.products.loading,loadingOrders:e.orders.loading,adminUser:e.user.user.admin,userSignedIn:e.user.signedIn,basket:e.products.basket}}),(function(e){return{addAuthenticateduserToRedux:function(t){return e({type:"LOGIN_SUCCESS",user:t})},addBasket:function(t){return e(Object(C.a)(t))}}}))(ee),ne=n(30),re=n(2),ce={user:{firstName:null,lastName:null,id:null,token:"",admin:null},error:null,loading:!1,signedIn:!1};var ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_STARTED":return Object(re.a)(Object(re.a)({},e),{},{loading:!0});case"USER_LOGGED_OUT":return Object(re.a)(Object(re.a)({},e),{},{signedIn:!1,admin:!1});case"LOGIN_SUCCESS":return Object(re.a)(Object(re.a)({},e),{},{user:t.user,loading:!1,signedIn:!0,error:null});case"LOGIN_FAIL":return Object(re.a)(Object(re.a)({},e),{},{error:t.error,loading:!1});default:return e}},se=n(34),oe={loading:!1,products:[],showDropDownMenu:!1,showSideMenu:!1,chosenCategory:"cycle",showSubCategory:!1,chosenSubCategory:"bikes",selectedProduct:[],basket:[],basketValue:0,filteredBrands:[],reviewError:null,reviewSuccess:null,searchProducts:null,serverError:null,globalFilterReset:!1,filterStock:!1,filterBrand:!1,filterPrice:!1,filterLowerPrice:0,filterHigherPrice:0,filterReview:!1,categories:{cycle:{bikes:["Mountain bikes","Hybrid bikes","Road bikes"],helmets:["Helmets","Protection"]},run:{clothing:["Tops","Legwear","Jackets"],footwear:["Running Shoes","Trail Shoes"]},swim:{shorts:["Swimming shorts","Swimming briefs"],swimsuits:["One piece","Two piece"]}}};var ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLEAR_PRODUCTS":return Object(re.a)(Object(re.a)({},e),{},{products:[]});case"ALLPRODUCTS_SUCCESS":return Object(re.a)(Object(re.a)({},e),{},{searchProducts:t.products});case"PRODUCTS_REQUESTED":return Object(re.a)(Object(re.a)({},e),{},{loading:!0});case"PRODUCTS_SUCCESS":return Object(re.a)(Object(re.a)({},e),{},{products:t.products,loading:!1});case"PRODUCT_SUCCESS":return Object(re.a)(Object(re.a)({},e),{},{selectedProduct:t.product,loading:!1});case"SEARCH_PRODUCTS":var n=e.searchProducts.filter((function(e){return e.name.toLowerCase().includes(t.searchValue.toLowerCase())}));return Object(re.a)(Object(re.a)({},e),{},{searchProducts:n});case"PRODUCTS_FAIL":case"ALLPRODUCTS_FAIL":return Object(re.a)(Object(re.a)({},e),{},{serverError:t.error,loading:!1});case"CATEGORY_CHOSEN":return Object(re.a)(Object(re.a)({},e),{},{chosenCategory:t.category});case"SHOW_DROP_DOWN":return Object(re.a)(Object(re.a)({},e),{},{showDropDownMenu:t.bool});case"SHOW_SIDE_MENU":return Object(re.a)(Object(re.a)({},e),{},{showSideMenu:t.bool});case"SHOW_SUB_CATEGORY":return Object(re.a)(Object(re.a)({},e),{},{showSubCategory:t.bool});case"CHOSEN_PRODUCT":var r=e.products.filter((function(e){return e._id===t.id}));return Object(re.a)(Object(re.a)({},e),{},{selectedProduct:r[0]});case"SUB_CAT_SELECTED":return Object(re.a)(Object(re.a)({},e),{},{chosenSubCategory:t.subcat});case"CLEAR_SELECTED_PRODUCTS":return Object(re.a)(Object(re.a)({},e),{},{selectedProduct:[]});case"FILTERED_BRANDS":return Object(re.a)(Object(re.a)({},e),{},{filteredBrands:t.brands});case"CHOSEN_BRAND":console.log(t);var c=Object(se.a)(e.products),a=c.filter((function(e){return e.brand===t.brand}));return Object(re.a)(Object(re.a)({},e),{},{products:a,filterBrand:t.brand});case"RESET_ALL_FILTERS":return console.log(t.bool),t.bool?Object(re.a)(Object(re.a)({},e),{},{globalFilterReset:t.bool,filterStock:!1,filterBrand:!1,filterPrice:!1,filterReview:!1,filterHigherPrice:0,filterLowerPrice:0}):Object(re.a)(Object(re.a)({},e),{},{globalFilterReset:t.bool});case"FILTERED_IN_STOCK":var s=e.products.filter((function(e){return 0!==e.stock}));return console.log(s),Object(re.a)(Object(re.a)({},e),{},{products:s,filterStock:!0});case"SORT_BY_BEST_REVIEWS":return Object(re.a)(Object(re.a)({},e),{},{products:t.products,filterReview:!0});case"CLEAR_REVIEW_FILTER":return Object(re.a)(Object(re.a)({},e),{},{products:t.products});case"UPDATE_PRICE_RANGE":return!0===t.higher?Object(re.a)(Object(re.a)({},e),{},{filterHigherPrice:t.price}):Object(re.a)(Object(re.a)({},e),{},{filterLowerPrice:t.price});case"FILTER_PRICE_RANGE":var o=e.products.filter((function(e){return e.price>=t.lower&e.price<=t.higher}));return Object(re.a)(Object(re.a)({},e),{},{products:o,filterPrice:!0});case"UPDATE_BASKET":var i=Object(se.a)(e.basket);return i[t.noPos].quantity=t.quantity,Object(re.a)(Object(re.a)({},e),{},{basket:i});case"EMPTY_BASKET":return Object(re.a)(Object(re.a)({},e),{},{basket:[]});case"DELETE_ITEM_FROM_BASKET":var u=Object(se.a)(e.basket),l=u.findIndex((function(e){return e.id===t.id&&e.size===t.size}));return console.log(l),u.splice(l,1),Object(re.a)(Object(re.a)({},e),{},{basket:u});case"ADD_TO_BASKET":var d=Object(se.a)(e.basket);d.push(t.itemInfo);var b=0===e.basket.length?t.itemInfo.price:t.itemInfo.price+e.basket.reduce((function(e,t){return e+t.price*t.quantity}),t.itemInfo.price);return Object(re.a)(Object(re.a)({},e),{},{basket:d,basketValue:b});case"CLEAR_REVIEW_STATUS":return Object(re.a)(Object(re.a)({},e),{},{reviewError:null,reviewSuccess:null});case"REVIEW_SENT":return Object(re.a)(Object(re.a)({},e),{},{loading:!0,reviewError:null});case"REVIEW_SUCCESS":return Object(re.a)(Object(re.a)({},e),{},{loading:!1,reviewSuccess:!0});case"REVIEW_FAIL":return Object(re.a)(Object(re.a)({},e),{},{loading:!1,reviewError:t.error,reviewSuccess:!1});default:return e}},ue={loading:!1,orders:[],order:null,showOrdersModal:!1,errors:null};var le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_SENT":return Object(re.a)(Object(re.a)({},e),{},{loading:!0});case"ORDER_SUCCESS":return Object(re.a)(Object(re.a)({},e),{},{loading:!1,showOrdersModal:!0,errors:null});case"ORDER_LIST_RECEIVED":return Object(re.a)(Object(re.a)({},e),{},{loading:!1,orders:t.orders});case"ORDER_FAIL":return Object(re.a)(Object(re.a)({},e),{},{loading:!1,showOrdersModal:!0,errors:"Network error, please try again"});case"INDIVDUAL_ORDER_SUCCESS":return Object(re.a)(Object(re.a)({},e),{},{loading:!1,order:t.order[0]});case"CLOSE_MODAL":return Object(re.a)(Object(re.a)({},e),{},{showOrdersModal:!1,error:null});default:return e}},de=n(59),be=n(60),je=Object(ne.combineReducers)({user:ae,products:ie,orders:le}),pe=Object(ne.createStore)(je,Object(de.composeWithDevTools)(Object(ne.applyMiddleware)(be.a)));s.a.render(Object(r.jsx)(v.a,{store:pe,children:Object(r.jsx)(te,{})}),document.getElementById("root"))}},[[95,2,3]]]);
//# sourceMappingURL=main.901947c1.chunk.js.map