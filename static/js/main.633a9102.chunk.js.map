{"version":3,"sources":["Actions/products.js","Pages/LandingPage.module.css","Actions/users.js","Components/NavBar.module.css","Components/UIelements/ShopButton.module.css","Components/UIelements/ShopButton.js","Pages/LandingPage.js","Components/UIelements/Logo.js","Components/UIelements/Basket.js","Components/UIelements/SearchBar.js","Components/UIelements/DropDownMenu.js","Components/UIelements/SideMenu.js","Components/NavBar.js","Components/PrivateRoute.js","Components/AdminRoute.js","App.js","reducers/usersReducer.js","reducers/productsReducer.js","reducers/ordersReducer.js","index.js"],"names":["getProducts","category","dispatch","a","type","axios","response","status","addRatingToProducts","data","map","product","reviews","length","rating","reduce","total","products","error","returnAllProducts","message","getProduct","id","submitReview","productId","method","url","clearSelectedProduct","clearProducts","searchProducts","value","searchValue","clearReviewStatus","selectedCategory","showDrop","bool","showSide","showSubCategory","subCatToShow","subcat","addToBasket","itemInfo","updateToBasket","noPos","quantity","sortByBestReviews","average","b","sort","sortViaPriceRange","lower","higher","showInStock","productBrands","brands","chosenBrand","brand","deleteItemFromBasket","size","emptyBasket","resetFilterAll","updatePriceFilter","price","closeProductCreatedModal","closeDeleteModal","closeProductEditedModal","deleteProduct","admin","cat","config","headers","email","token","delete","res","console","log","_id","request","deleteImageFromServer","index","uploadImageToServer","formData","post","then","catch","err","createProduct","updateProductOnServer","module","exports","userSignIn","password","loginStarted","user","storeTokeninLocalStorage","logUserOut","localStorage","removeItem","userSignUp","address","lastName","firstName","isTokenValid","userInfo","JSON","parse","getItem","currentTimeInSeconds","Date","getTime","seconds","Object","entries","filter","key","parseInt","setItem","stringify","ShopButton","name","width","height","className","styles","shopbutton","style","to","LandingPage","landingpage","mainimagemobile","src","process","alt","mainimagedesktop","title2","running","catdetailsrunning","cycling","catdetailscycling","swimming","catdetailsswimming","Logo","logo","Basket","this","props","basketValue","basketNumber","Total","basketDetails","cartdesktop","color","cart","Component","connect","state","basket","itemTotal","SearchBar","showResults","input","componentDidMount","userInput","e","setState","prevState","target","search","selectedItem","history","push","disabled","autoComplete","onChange","searchicon","CSSTransition","in","timeout","classNames","unmountOnExit","results","keys","searchitem","onClick","withRouter","DropDownMenu","goToCategory","subCat","showDropDown","chosenCategory","chosenSubCategory","showSubCat","categories","categoryToShow","dropdown","onMouseEnter","mouseEnter","onMouseLeave","iconMove","categoryItemMove","categoryItem","textContent","subcategories","SideMenu","showSideMenu","sidemenu","maincats","sidecategories","sidesubcategories","closebutton","backgroundColor","NavBar","signedIn","clearProds","getNewProducts","navbar","marginLeft","links","categorylinks","display","justifyContent","query","render","mouseLeave","closeMain","closeDropMenu","showDropDownMenu","PrivateUserRoute","component","AdminRoute","authUser","Account","lazy","AdminProducts","AdminOrders","SignIn","SignUp","Product","ShoppingBasket","MainCategory","NotFound","Products","OrderDetails","AdminEditProduct","AdminCreateProduct","Checkout","App","showArrowToTop","userTokenExpired","componentDidUpdate","newProps","userSignedIn","logOut","forEach","item","test","clearBasket","tokenExpired","window","addEventListener","scrollY","innerHeight","addBasket","itemsFromLocalStorage","parsedItem","loadingUser","loadingProducts","loadingOrders","CircularProgress","basename","fallback","exact","path","PrivateRoute","scrollTo","loading","orders","adminUser","addAuthenticateduserToRedux","initialState","usersReducer","action","selectedProduct","filteredBrands","reviewError","reviewSuccess","serverError","globalFilterReset","filterStock","filterBrand","filterPrice","filterLowerPrice","filterHigherPrice","filterReview","productCreatedModal","productDeletedModal","productEditedModal","latestCreatedProductId","latestEditedProductId","cycle","bikes","helmets","run","clothing","footwear","swim","shorts","swimsuits","productsReducer","productMatches","toLowerCase","includes","productsByBrand","productsInStock","stock","productsCopy","updateBasketCopy","newBasketCopy","indexOfItem","findIndex","splice","basketCopy","totalBasketValue","basketItem","order","showOrdersModal","errors","ordersReducer","rootReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","ReduxThunk","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.633a9102.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport const getProducts = (category) => {\n  return async (dispatch) => {\n    dispatch({ type: 'PRODUCTS_REQUESTED' });\n    try {\n      let response = await axios(\n        `https://my-ecommerce-site-fitness.herokuapp.com/products/${category}`\n      );\n      if (response.status === 200) {\n        // Here I will check each products for reviews and give them an average review rating, products with no review\n        // will receive a rating of 0, this will allow me to filter the best products if the user wants this to happen\n        // via the bets reviews filter on the products screen\n\n        let addRatingToProducts = response.data.map((product) => {\n          if (product.reviews.length === 0) {\n            return { ...product, rating: 0 };\n          }\n          if (product.reviews.length === 1) {\n            return { ...product, rating: product.reviews[0].rating };\n          } else {\n            let length = product.reviews.length;\n            let average = product.reviews.reduce((total, product) => {\n              return total + product.rating;\n            }, 0);\n            let rating = average / length;\n            return { ...product, rating: rating };\n          }\n        });\n        dispatch({ type: 'PRODUCTS_SUCCESS', products: addRatingToProducts });\n      }\n    } catch (err) {\n      dispatch({ type: 'PRODUCTS_FAIL', error: err.response });\n    }\n  };\n};\n\nexport const returnAllProducts = () => {\n  return async (dispatch) => {\n    dispatch({ type: 'ALLPRODUCTS_STARTED' });\n    try {\n      let response = await axios(\n        `https://my-ecommerce-site-fitness.herokuapp.com/products/all`\n      );\n      if (response.status === 200) {\n        dispatch({\n          type: 'ALLPRODUCTS_SUCCESS',\n          products: response.data,\n        });\n      }\n    } catch (err) {\n      dispatch({\n        type: 'ALLPRODUCTS_FAIL',\n        error: err.response || err.message,\n      });\n    }\n  };\n};\n\nexport const getProduct = (id) => {\n  return async (dispatch) => {\n    dispatch({ type: 'PRODUCTS_REQUESTED' });\n    try {\n      let response = await axios(\n        `https://my-ecommerce-site-fitness.herokuapp.com/products/product/${id}`\n      );\n      if (response.status === 200) {\n        dispatch({ type: 'PRODUCT_SUCCESS', product: response.data });\n      }\n    } catch (err) {\n      dispatch({ type: 'PRODUCTS_FAIL', error: err.response || err.message });\n    }\n  };\n};\n\n// I have used the rest operator below so I can separate the productId and the rest of the\n// data which needs to be sent in the body //\n\nexport const submitReview = ({ productId, ...data }) => {\n  return async (dispatch) => {\n    dispatch({ type: 'REVIEW_SENT' });\n    try {\n      let response = await axios({\n        method: 'post',\n        url: `https://my-ecommerce-site-fitness.herokuapp.com/products/review/${productId}`,\n        data: {\n          data,\n        },\n      });\n      if (response.status === 200) {\n        dispatch({ type: 'REVIEW_SUCCESS', product: response.data });\n      }\n    } catch (err) {\n      dispatch({ type: 'REVIEW_FAIL', error: err.response.data.error });\n    }\n  };\n};\n\nexport const clearSelectedProduct = () => {\n  return { type: 'CLEAR_SELECTED_PRODUCTS' };\n};\n\nexport const clearProducts = () => {\n  return { type: 'CLEAR_PRODUCTS' };\n};\n\nexport const searchProducts = (value) => {\n  return { type: 'SEARCH_PRODUCTS', searchValue: value };\n};\n\nexport const clearReviewStatus = () => {\n  return { type: 'CLEAR_REVIEW_STATUS' };\n};\n\nexport const selectedCategory = (category) => {\n  return { type: 'CATEGORY_CHOSEN', category };\n};\n\nexport const showDrop = (bool) => {\n  return { type: 'SHOW_DROP_DOWN', bool };\n};\n\nexport const showSide = (bool) => {\n  return { type: 'SHOW_SIDE_MENU', bool };\n};\n\nexport const showSubCategory = (bool) => {\n  return { type: 'SHOW_SUB_CATEGORY', bool };\n};\n\nexport const subCatToShow = (subcat) => {\n  return { type: 'SUB_CAT_SELECTED', subcat };\n};\n\nexport const chosenProduct = (id) => {\n  return { type: 'CHOSEN_PRODUCT', id };\n};\n\nexport const addToBasket = (itemInfo) => {\n  return { type: 'ADD_TO_BASKET', itemInfo };\n};\n\nexport const updateToBasket = (noPos, quantity) => {\n  return { type: 'UPDATE_BASKET', noPos, quantity };\n};\n\nexport const clearReviewsFilter = (products) => {\n  return { type: 'CLEAR_REVIEW_FILTER', products };\n};\n\nexport const sortByBestReviews = (products) => {\n  // This will sort the products which now having rating into order from top to bottom\n  let addRatingToProducts = products.map((product) => {\n    if (product.reviews.length === 0) {\n      return { ...product, rating: 0 };\n    }\n    if (product.reviews.length === 1) {\n      return { ...product, rating: product.rating };\n    } else {\n      let length = product.reviews.length;\n      let average = product.reviews.reduce((a, b) => {\n        return a + b.rating;\n      }, 0);\n      return { ...product, rating: average / length };\n    }\n  });\n  let sortedProductsByRating = addRatingToProducts.sort((a, b) => {\n    return a.rating < b.rating ? 1 : -1;\n  });\n  return { type: 'SORT_BY_BEST_REVIEWS', products: sortedProductsByRating };\n};\n\nexport const sortViaPriceRange = (lower, higher) => {\n  return { type: 'FILTER_PRICE_RANGE', lower, higher };\n};\n\nexport const showInStock = () => {\n  return { type: 'FILTERED_IN_STOCK' };\n};\n\nexport const productBrands = (brands) => {\n  return { type: 'FILTERED_BRANDS', brands };\n};\n\nexport const chosenBrand = (brand) => {\n  getProducts();\n  return { type: 'CHOSEN_BRAND', brand };\n};\n\nexport const deleteItemFromBasket = ({ id, size }) => {\n  return { type: 'DELETE_ITEM_FROM_BASKET', id, size };\n};\n\nexport const emptyBasket = (id) => {\n  return { type: 'EMPTY_BASKET' };\n};\n\nexport const resetFilterAll = (bool) => {\n  return { type: 'RESET_ALL_FILTERS', bool };\n};\n\nexport const updatePriceFilter = ({ price, higher }) => {\n  return { type: 'UPDATE_PRICE_RANGE', price, higher };\n};\n\n/* Admin action creators to create, delete or edit a product below */\n\nexport const editProduct = ({ key, value }) => {\n  return { type: 'UPDATE_PRODUCT_IN_REDUX_STATE', key, value };\n};\n\nexport const closeProductCreatedModal = () => {\n  return { type: 'CLOSE_ADMIN_PRODUCT_MODAL' };\n};\n\nexport const closeDeleteModal = () => {\n  return { type: 'CLOSE_ADMIN_DELETE_MODAL' };\n};\n\nexport const closeProductEditedModal = () => {\n  return { type: 'CLOSE_ADMIN_EDIT_MODAL' };\n};\n\nexport const deleteProduct = ({ id, admin, cat }) => {\n  return async (dispatch) => {\n    dispatch({ type: 'DELETE_PRODUCT' });\n    try {\n      const config = {\n        headers: {\n          email: admin.email,\n          token: admin.token,\n        },\n      };\n      let res = await axios.delete(\n        `http://localhost:5000/adminuser/delete/${id}`,\n\n        config\n      );\n      if (res.status === 204) {\n        console.log(res.data);\n\n        dispatch({ type: 'PRODUCT_DELETED_SUCCESS', productId: res.data._id });\n        dispatch(getProducts(cat));\n      }\n    } catch (err) {\n      console.log(err.request.response || err.message.response);\n      dispatch({\n        type: 'PRODUCTS_DELETED_FAIL',\n        error: err.response || err.message,\n      });\n    }\n  };\n};\n\nexport const deleteImageFromServer = ({ index, id, admin }) => {\n  console.log(admin.token);\n  return async (dispatch) => {\n    dispatch({ type: 'DELETE_PRODUCT' });\n    try {\n      const config = {\n        headers: {\n          email: admin.email,\n          token: admin.token,\n          index: index,\n        },\n      };\n      let res = await axios.delete(\n        `http://localhost:5000/adminuser/deleteimage/${id}`,\n\n        config\n      );\n      if (res.status === 201) {\n        console.log(res);\n\n        dispatch({ type: 'PRODUCT_DELETED_SUCCESS', productId: res.data._id });\n        dispatch(getProduct(id));\n      }\n    } catch (err) {\n      console.log(err.request.response || err.message.response);\n      dispatch({\n        type: 'PRODUCTS_DELETED_FAIL',\n        error: err.response || err.message,\n      });\n    }\n  };\n};\n\nexport const uploadImageToServer = ({ formData, admin, id }) => {\n  axios\n    .post('https://httpbin.org/anything', formData)\n    .then((res) => console.log(res))\n    .catch((err) => console.log(err));\n\n  console.log(id);\n  return async (dispatch) => {\n    // dispatch({ type: 'DELETE_PRODUCT' });\n    try {\n      const config = {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          email: admin.email,\n          token: admin.token,\n        },\n      };\n      let res = await axios.post(\n        `http://localhost:5000/adminuser/addimage/${id}`,\n        formData,\n        config\n      );\n      if (res.status === 201) {\n        console.log(res);\n\n        dispatch({ type: 'PRODUCT_DELETED_SUCCESS', productId: res.data._id });\n        dispatch(getProduct(id));\n      }\n    } catch (err) {\n      console.log(err.request.response || err.message.response);\n      dispatch({\n        type: 'PRODUCTS_DELETED_FAIL',\n        error: err.response || err.message,\n      });\n    }\n  };\n};\n\nexport const createProduct = ({ admin, formData }) => {\n  return async (dispatch) => {\n    dispatch({ type: 'CREATE_PRODUCT' });\n\n    try {\n      // httpbin allows me to see the formData that I will be sending to the server, this solves the problem\n      // of not being able to see inside the formData in the browser usually\n      // axios\n      //   .post('https://httpbin.org/anything', formData)\n      //   .then((res) => console.log(res))\n      //   .catch((err) => console.log(err));\n      const config = {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          email: admin.email,\n          token: admin.token,\n        },\n      };\n      let res = await axios.post(\n        `http://localhost:5000/adminuser/create`,\n        formData,\n        config\n      );\n      if (res.status === 201) {\n        dispatch({ type: 'PRODUCT_CREATED_SUCCESS', productId: res.data._id });\n      }\n    } catch (err) {\n      console.log(err.request.response || err.message.response);\n      dispatch({\n        type: 'PRODUCTS_CREATED_FAIL',\n        error: err.response || err.message,\n      });\n    }\n  };\n};\n\nexport const updateProductOnServer = ({ admin, data, productId }) => {\n  return async (dispatch) => {\n    dispatch({ type: 'EDIT_PRODUCT' });\n\n    try {\n      const config = {\n        headers: {\n          email: admin.email,\n          token: admin.token,\n        },\n      };\n      let res = await axios.post(\n        `http://localhost:5000/adminuser/update/${productId}`,\n        data,\n        config\n      );\n      if (res.status === 204) {\n        dispatch({ type: 'PRODUCT_EDIT_SUCCESS', productId });\n      }\n    } catch (err) {\n      console.log(err.request.response || err.message.response);\n      dispatch({\n        type: 'PRODUCTS_EDITED_FAIL',\n        error: err.response || err.message,\n      });\n    }\n  };\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"landingpage\":\"LandingPage_landingpage__1iu_j\",\"title2\":\"LandingPage_title2__1sZp1\",\"mainimagemobile\":\"LandingPage_mainimagemobile__35TLt\",\"mainimagedesktop\":\"LandingPage_mainimagedesktop__JYoUa\",\"running\":\"LandingPage_running__3KYBq\",\"catdetailsrunning\":\"LandingPage_catdetailsrunning__2wJsu\",\"cycling\":\"LandingPage_cycling__1rmui\",\"catdetailscycling\":\"LandingPage_catdetailscycling__1jP-c\",\"swimming\":\"LandingPage_swimming___Du1A\",\"catdetailsswimming\":\"LandingPage_catdetailsswimming__1iHId\",\"outdoor\":\"LandingPage_outdoor__3gm-W\",\"catdetailsoutdoor\":\"LandingPage_catdetailsoutdoor__uW9DF\"};","import axios from 'axios';\n\nexport const userSignIn = (email, password) => {\n  return async (dispatch) => {\n    dispatch(loginStarted());\n    try {\n      let response = await axios({\n        method: 'post',\n        url: `https://my-ecommerce-site-fitness.herokuapp.com/users/login`,\n        data: {\n          email,\n          password,\n        },\n      });\n      if (response.status === 202) {\n        dispatch({ type: 'LOGIN_SUCCESS', user: response.data });\n        storeTokeninLocalStorage(response.data);\n      }\n      if (response.status === 401) {\n        dispatch({ type: 'LOGIN_FAIL', error: response.data });\n      }\n    } catch (err) {\n      console.log(err);\n      // this will catch a network error( server down)\n      if (err.request && err.request.status === 0) {\n        dispatch({\n          type: 'LOGIN_FAIL',\n          error: 'Network error, please try again',\n        });\n      }\n      // This will catch an error when the user's request is invalid\n      if (err.request && err.request.status === 401) {\n        dispatch({ type: 'LOGIN_FAIL', error: 'Unauthorised' });\n      }\n    }\n  };\n};\n\nexport const logUserOut = () => {\n  localStorage.removeItem('userInfo');\n  return {\n    type: 'USER_LOGGED_OUT',\n  };\n};\n\nexport const userSignUp = ({\n  email,\n  address,\n  password,\n  lastName,\n  firstName,\n}) => {\n  return async (dispatch) => {\n    dispatch(loginStarted());\n    try {\n      let response = await axios({\n        method: 'post',\n        url: `https://my-ecommerce-site-fitness.herokuapp.com/users/register`,\n        data: {\n          email,\n          password,\n          firstName,\n          lastName,\n          address,\n          reviews: [],\n        },\n      });\n\n      if (response.status === 201) {\n        console.log(response.data);\n        dispatch({ type: 'LOGIN_SUCCESS', user: response.data });\n        storeTokeninLocalStorage(response.data);\n      }\n    } catch (err) {\n      if (err.request && err.request.status === 0) {\n        dispatch({\n          type: 'LOGIN_FAIL',\n          error: 'Network error, please try again',\n        });\n      }\n    }\n  };\n};\n\nexport const loginStarted = () => {\n  return { type: 'LOGIN_STARTED' };\n};\n\n// The two functions below are not action creators but I have stored in here for simplify as\n// they are functions related to the user and authentication\n\nexport const isTokenValid = () => {\n  // Here I want to check if\n  let user = null;\n  let userInfo = JSON.parse(localStorage.getItem('userInfo'));\n  if (userInfo) {\n    // My jwt token has been set on the server to expire in one hour, therefore I want to check if there\n    // is a jwt token in local storage and if over 1 hour old then delete it and the user\n    // has to sign in again to create a new token\n    let time = new Date();\n    let currentTimeInSeconds = time.getTime();\n    let seconds = Object.entries(userInfo).filter(\n      (key) => key[0] === 'seconds'\n    );\n    if (parseInt(seconds[0][1]) + 3600000 < parseInt(currentTimeInSeconds)) {\n      // This means it has been over an hour and I need to clear the JWT from local storage and remove the user from as it\n      // has expired and other user info\\\n      localStorage.removeItem('userInfo');\n    } else {\n      user = userInfo;\n    }\n    return user;\n  }\n};\n\nexport const storeTokeninLocalStorage = (data) => {\n  // the seconds stores stores the seconds elapsed since 19070 which i will\n  // use in the tokenIsvalid function to check if the token is over an hour old and\n  // if so delete it\n  localStorage.setItem('userInfo', JSON.stringify(data));\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"NavBar_navbar__3L-WI\",\"user\":\"NavBar_user__3iNNw\",\"admin\":\"NavBar_admin__2yTRL\",\"cart\":\"NavBar_cart__3X5Br\",\"searchitem\":\"NavBar_searchitem__38Pze\",\"logo\":\"NavBar_logo__2b9K_\",\"search\":\"NavBar_search__27muG\",\"results\":\"NavBar_results__2BT58\",\"searchicon\":\"NavBar_searchicon__37RA9\",\"cartdesktop\":\"NavBar_cartdesktop__--zPI\",\"menu\":\"NavBar_menu__35aKG\",\"store\":\"NavBar_store__1WRDm\",\"links\":\"NavBar_links__VaUPB\",\"categorylinks\":\"NavBar_categorylinks__25Tg4\",\"sidemenu\":\"NavBar_sidemenu__ZDTA6\",\"closebutton\":\"NavBar_closebutton__1kh64\",\"sidecategories\":\"NavBar_sidecategories__eaHBo\",\"sidesubcategories\":\"NavBar_sidesubcategories__2OaXd\",\"categoryItem\":\"NavBar_categoryItem__2B6Yz\",\"categoryItemMove\":\"NavBar_categoryItemMove__2rkby\",\"dropdown\":\"NavBar_dropdown__HEr5k\",\"categories\":\"NavBar_categories__hVmMN\",\"subcategories\":\"NavBar_subcategories__7D0zJ\",\"categoryImage\":\"NavBar_categoryImage__bQaQA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"shopbutton\":\"ShopButton_shopbutton__2O7W3\"};","/* NPM packages */\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\n/* CSS */\n\nimport styles from './ShopButton.module.css';\n\nconst ShopButton = ({ url, name, width, height }) => {\n  return (\n    <div\n      className={styles.shopbutton}\n      style={{ width: `${width}`, height: `${height}` }}>\n      <Link to={`${url}`}>{name} </Link>\n    </div>\n  );\n};\n\nexport default ShopButton;\n","/* NPM packages */\nimport React from 'react';\n\n/* CSS */\nimport styles from './LandingPage.module.css';\n\n/* Components */\n\nimport ShopButton from '../Components/UIelements/ShopButton';\n\nconst LandingPage = () => {\n  return (\n    <div className={styles.landingpage}>\n      <header>\n        THE UK'S <span>&nbsp; NO.1 &nbsp;</span> ONLINE FITNESS STORE\n      </header>\n\n      <div className={styles.mainimagemobile}>\n        <img\n          src={`${process.env.PUBLIC_URL}/images/cycling-desktop.jpg`}\n          alt='Man on a bike smiling'></img>\n      </div>\n\n      <div className={styles.mainimagedesktop}>\n        <img\n          src={`${process.env.PUBLIC_URL}/images/cycling-desktop.jpg`}\n          alt='Woman on a bike riding'></img>\n      </div>\n\n      <header className={styles.title2}>\n        <strong>\n          DM Sports <span> + &nbsp;</span>\n        </strong>\n        NEXT DAY DELIVERY AND FREE RETURNS FOR ONLY &nbsp;{' '}\n        <strong>Â£9.99</strong>\n        <div>\n          <ShopButton url='/run' name='SHOP NOW' width='8rem' />\n        </div>\n      </header>\n      <div className={styles.running}>\n        <img\n          src={`${process.env.PUBLIC_URL}/images/running-montage.png`}\n          alt='Man running and red running jacket'\n        />\n        <div className={styles.catdetailsrunning}>\n          {' '}\n          <p>RUN</p>\n          <ShopButton url='/run' name='SHOP' />\n        </div>\n      </div>\n\n      <div className={styles.cycling}>\n        <img\n          src={`${process.env.PUBLIC_URL}/images/cycling-montage.png`}\n          alt='cyclist smiling and bike'\n        />\n        <div className={styles.catdetailscycling}>\n          {' '}\n          <p>CYCLE</p>\n          <ShopButton url='/cycle' name='SHOP' />\n        </div>\n      </div>\n      <div className={styles.swimming}>\n        <img\n          src={`${process.env.PUBLIC_URL}/images/swimming-montage.png`}\n          alt='woman swimming and a swim suit'\n        />\n        <div className={styles.catdetailsswimming}>\n          {' '}\n          <p>SWIM</p>\n          <ShopButton url='/swim' name='SHOP' />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LandingPage;\n","/* NPM packages */\nimport React from 'react';\nimport { NavLink } from 'react-router-dom';\n\n/* css */\n\nimport styles from '../NavBar.module.css';\n\nconst Logo = () => {\n  return (\n    <div className={styles.logo}>\n      <NavLink to='/'>\n        <img\n          src={`https://webdev-davidm.github.io/E-commerce-front-end/images/logo.png`}\n          alt='DM sports logo'></img>\n      </NavLink>\n    </div>\n  );\n};\n\nexport default Logo;\n","/* NPM packages */\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\n/* CSS */\n\nimport styles from '../NavBar.module.css';\n\nclass Basket extends Component {\n  render() {\n    let { basketValue, basketNumber } = this.props;\n    let total = basketValue().Total;\n    let basketDetails = basketNumber.length !== 0 && (\n      <span>\n        &nbsp;{total}&nbsp;&nbsp;&#40;{basketNumber}&#41;\n      </span>\n    );\n\n    return (\n      <>\n        <div\n          className={styles.cartdesktop}\n          style={{ width: '5rem', height: '2rem', color: '#2980b9' }}>\n          <Link to='/shopping-basket' color='red'>\n            <i\n              className='fas fa-shopping-cart'\n              style={{ width: '0.9rem', height: '0.9rem' }}>\n              {' '}\n            </i>\n            {basketDetails}\n          </Link>\n        </div>\n        <div\n          className={styles.cart}\n          style={{ width: '1.5rem', height: '1.5rem' }}>\n          {' '}\n          <Link to='/shopping-basket'>\n            <i\n              color='#2980b9'\n              className='fas fa-shopping-cart'\n              style={{ width: '100%', height: '100%' }}>\n              {' '}\n            </i>\n          </Link>{' '}\n          <span>{basketNumber}</span>\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    basketNumber: state.products.basket.length,\n    basketValue: () => {\n      let Total = 0;\n      if (state.products.basket.length !== 0) {\n        Total = state.products.basket\n          .map((product) => {\n            return product.price * product.quantity;\n          })\n          .reduce((total, itemTotal) => {\n            return total + itemTotal;\n          });\n      }\n      return { Total };\n    },\n  };\n};\n\nexport default connect(mapStateToProps)(Basket);\n","/* NPM packages */\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\n/* CSS */\n\nimport styles from '../NavBar.module.css';\nimport { CSSTransition } from 'react-transition-group';\n\n/* Action creators */\n\nimport { returnAllProducts, searchProducts } from '../../Actions/products.js';\n\nclass SearchBar extends Component {\n  state = {\n    showResults: false,\n    input: '',\n  };\n\n  componentDidMount = () => {\n    this.props.getProducts();\n  };\n\n  userInput = (e) => {\n    this.setState((prevState) => ({\n      showResults: true,\n      input: e.target.value,\n    }));\n    if (e.target.value.length > 1) {\n      this.props.search(e.target.value);\n    }\n    if (e.target.value.length === 0) {\n      this.props.getProducts();\n      this.setState({ showResults: false });\n    }\n    if (this.state.input.length > e.target.value.length) {\n      this.props.search(e.target.value);\n    }\n  };\n\n  selectedItem = (id) => {\n    this.setState({\n      showResults: false,\n      input: '',\n    });\n    this.props.history.push(`/product/${id}`);\n  };\n\n  render() {\n    return (\n      <>\n        <div className={styles.search}>\n          <input\n            // if there is a network error and i cant get the products this field will be disabled\n            disabled={!this.props.products}\n            autoComplete='off'\n            value={this.state.input}\n            onChange={(e) => this.userInput(e)}></input>\n          <div className={styles.searchicon}>\n            <i className='fas fa-search '></i>{' '}\n          </div>\n          <CSSTransition\n            in={this.state.showResults}\n            timeout={500}\n            classNames='searchresultsdropdown'\n            unmountOnExit>\n            <div className={styles.results}>\n              {' '}\n              {this.props.products\n                ? Object.keys(this.props.products) !== 0 &&\n                  this.props.products.map((product, index) => (\n                    <div\n                      className={styles.searchitem}\n                      key={index}\n                      onClick={() => this.selectedItem(product._id)}>\n                      {product.name}\n                      <hr />\n                    </div>\n                  ))\n                : null}\n            </div>\n          </CSSTransition>\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    products: state.products.searchProducts,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getProducts: () => dispatch(returnAllProducts()),\n    search: (e) => dispatch(searchProducts(e)),\n  };\n};\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(SearchBar)\n);\n","/* NPM packages */\n\nimport React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\n/* css */\n\nimport styles from '../NavBar.module.css';\n\n/* action creators */\n\nimport {\n  showDrop,\n  showSubCategory,\n  subCatToShow,\n} from '../../Actions/products';\n\nclass DropDownMenu extends Component {\n  goToCategory = (subCat) => {\n    this.props.showDropDown(false);\n    this.props.history.push(\n      `${this.props.chosenCategory}/${this.props.chosenSubCategory}/${subCat}`\n    );\n  };\n\n  render() {\n    // destructured dispatch action creators from mapDispatchToProps\n    let {\n      showSubCat,\n      subCatToShow,\n      showSubCategory,\n      showDropDown,\n    } = this.props;\n\n    // Destructured state from mapStateToProps\n    let { categories, chosenCategory, chosenSubCategory } = this.props;\n    let categoryToShow = Object.keys(categories[chosenCategory]);\n\n    return (\n      <div\n        className={styles.dropdown}\n        onMouseEnter={() => this.props.mouseEnter()}\n        onMouseLeave={() => showDropDown(false)}>\n        <div className={styles.categories}>\n          {categoryToShow.map((cat) => {\n            let iconMove =\n              chosenSubCategory === cat ? styles.categoryItemMove : '';\n            return (\n              <div\n                key={cat}\n                className={`${styles.categoryItem} ${iconMove} `}\n                onMouseEnter={(e) => {\n                  subCatToShow(e.target.textContent);\n                  showSubCat(true);\n                }}>\n                {cat}\n                <i className={`fas fa-arrow-right ${iconMove}`}></i>\n              </div>\n            );\n          })}\n        </div>\n        <div className={styles.subcategories}>\n          {showSubCategory\n            ? categories[chosenCategory][chosenSubCategory].map(\n                (subCat, index) => (\n                  <div key={index}>\n                    <Link\n                      to={`/${chosenCategory}/${chosenSubCategory}/${subCat}`}>\n                      {subCat}\n                    </Link>\n                  </div>\n                )\n              )\n            : null}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    categories: state.products.categories,\n    chosenCategory: state.products.chosenCategory,\n    chosenSubCategory: state.products.chosenSubCategory,\n    showSubCategory: state.products.showSubCategory,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    showSubCat: (bool) => dispatch(showSubCategory(bool)),\n    subCatToShow: (type) => dispatch(subCatToShow(type)),\n    showDropDown: (bool) => dispatch(showDrop(bool)),\n  };\n};\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(DropDownMenu)\n);\n","/* NPM packages */\n\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\n/* css */\n\n/* action creators */\n\nimport {\n  showSide,\n  showSubCategory,\n  subCatToShow,\n} from '../../Actions/products';\n\nimport styles from '../NavBar.module.css';\n\nclass SideMenu extends Component {\n  goToCategory = (subCat) => {\n    this.props.showSideMenu(false);\n    this.props.history.push(\n      `${this.props.chosenCategory}/${this.props.chosenSubCategory}/${subCat}`\n    );\n  };\n\n  render() {\n    // destructured dispatch action creators from mapDispatchToProps\n    let { showSubCat, subCatToShow, showSideMenu } = this.props;\n\n    // Destructured state from mapStateToProps\n    let {\n      categories,\n      chosenCategory,\n      chosenSubCategory,\n      showSubCategory,\n    } = this.props;\n    let categoryToShow = Object.keys(categories[chosenCategory]);\n    return (\n      <>\n        <div\n          className={styles.sidemenu}\n          onMouseLeave={() => showSideMenu(false)}>\n          <div className={styles.maincats}></div>\n          <div className={styles.sidecategories}>\n            {categoryToShow.map((cat, index) => {\n              let iconMove =\n                chosenSubCategory === cat ? styles.categoryItemMove : '';\n              return (\n                <div\n                  key={index}\n                  className={`${styles.categoryItem} ${iconMove} `}\n                  // I have changed this from hover to click for the mobile side menu\n                  onClick={(e) => {\n                    subCatToShow(e.target.textContent);\n                    showSubCat(true);\n                  }}>\n                  {cat}\n                  <i className={`fas fa-arrow-right ${iconMove}`}></i>\n                </div>\n              );\n            })}\n          </div>\n          <div className={styles.sidesubcategories}>\n            {showSubCategory\n              ? categories[chosenCategory][chosenSubCategory].map((subCat) => (\n                  <div onClick={() => this.goToCategory(subCat)} key={subCat}>\n                    {subCat}\n                  </div>\n                ))\n              : null}\n          </div>\n          <div\n            className={styles.closebutton}\n            onClick={() => showSideMenu(false)}\n            style={{ width: '1.6rem', height: '1.6rem' }}>\n            <i\n              className='fas fa-window-close'\n              style={{\n                width: 'inherit',\n                height: 'inherit',\n                backgroundColor: 'white',\n              }}></i>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    categories: state.products.categories,\n    chosenCategory: state.products.chosenCategory,\n    chosenSubCategory: state.products.chosenSubCategory,\n    showSubCategory: state.products.showSubCategory,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    showSubCat: (bool) => dispatch(showSubCategory(bool)),\n    subCatToShow: (type) => dispatch(subCatToShow(type)),\n    showSideMenu: (bool) => dispatch(showSide(bool)),\n  };\n};\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(SideMenu)\n);\n","/* NPM packages */\nimport Media from 'react-media';\nimport React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { CSSTransition } from 'react-transition-group';\nimport { connect } from 'react-redux';\n\n/* CSS */\nimport styles from './NavBar.module.css';\nimport './NavBar.module.css';\n/* UI*/\n\n/* Components */\nimport Logo from './UIelements/Logo';\nimport Basket from './UIelements/Basket';\nimport SearchBar from './UIelements/SearchBar';\nimport DropDownMenu from './UIelements/DropDownMenu';\nimport SideMenu from './UIelements/SideMenu';\n\n/*Action creators */\n\nimport {\n  selectedCategory,\n  showDrop,\n  showSide,\n  showSubCategory,\n  clearProducts,\n  getProducts,\n} from '../Actions/products.js';\n\nclass NavBar extends Component {\n  render() {\n    // Destructuring for mapStateToProps\n    let { showDrop, showSide, showSubCat, signedIn } = this.props;\n\n    //Destructuring for mapDispatchToProps\n    let {\n      chosenCategory,\n      showDropDown,\n      showSideMenu,\n      clearProds,\n      getNewProducts,\n    } = this.props;\n    return (\n      <>\n        <div>\n          <div className={styles.navbar}>\n            <Logo size='2rem' />\n\n            <div\n              className={styles.user}\n              onMouseEnter={() => showSideMenu(true)}\n              style={{\n                width: '1.3rem',\n                height: '1.3rem',\n                color: '#ecf0f1',\n              }}>\n              {' '}\n            </div>\n\n            <SearchBar />\n            <div\n              className={styles.user}\n              onClick={() => {\n                signedIn\n                  ? this.props.history.push('/account')\n                  : this.props.history.push('/sign-in');\n              }}\n              style={{\n                width: '1.3rem',\n                height: '1.3rem',\n                color: '#ecf0f1',\n                marginLeft: 'auto',\n              }}>\n              <i\n                className='fas fa-user'\n                style={{ width: '100%', height: '100%' }}></i>\n            </div>\n            {signedIn && this.props.admin ? (\n              <Link className={styles.admin} to='/admin'>\n                Admin\n              </Link>\n            ) : null}\n            <Basket />\n            <div className={styles.links}>\n              {signedIn ? (\n                !this.props.admin ? (\n                  <Link to='/account'>Your Account</Link>\n                ) : (\n                  <Link to='/admin'>Admin</Link>\n                )\n              ) : (\n                <Link to='/sign-in'>Sign in</Link>\n              )}\n            </div>\n          </div>\n        </div>\n        <div className={styles.categorylinks}>\n          <Link\n            onClick={() => {\n              showSubCat(false);\n              showDropDown(true);\n              showSideMenu(true);\n              chosenCategory('cycle');\n              clearProds();\n              getNewProducts('cycle');\n            }}\n            onMouseLeave={() => this.props.mouseEnter && showDropDown(false)}\n            to='/cycle'>\n            CYCLE\n          </Link>\n          <Link\n            onClick={(e) => {\n              showSubCat(false);\n              chosenCategory('run');\n              showDropDown(true);\n              showSideMenu(true);\n              clearProds();\n              getNewProducts('run');\n            }}\n            onMouseLeave={() => this.props.mouseEnter && showDropDown(false)}\n            to='/run'>\n            RUN\n          </Link>\n          <Link\n            onClick={() => {\n              showSubCat(false);\n              showDropDown(true);\n              showSideMenu(true);\n              chosenCategory('swim');\n              clearProds();\n              getNewProducts('swim');\n            }}\n            onMouseLeave={() => this.props.mouseEnter && showDropDown(false)}\n            to='/swim'>\n            SWIM\n          </Link>\n        </div>\n        <div style={{ display: 'flex', justifyContent: 'center' }}>\n          <Media\n            query='(min-width: 768px)'\n            render={() => (\n              <CSSTransition\n                in={showDrop}\n                timeout={300}\n                classNames='menufade'\n                unmountOnExit>\n                <DropDownMenu\n                  mouseEnter={() => showDropDown(true)}\n                  mouseLeave={() => showDropDown(false)}\n                  closeMain={this.closeDropMenu}\n                />\n              </CSSTransition>\n            )}\n          />\n        </div>\n        <Media\n          query='(max-width: 768px)'\n          render={() => (\n            <CSSTransition\n              in={showSide}\n              timeout={300}\n              classNames='sidemenu'\n              unmountOnExit>\n              <SideMenu />\n            </CSSTransition>\n          )}\n        />\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    showSide: state.products.showSideMenu,\n    showDrop: state.products.showDropDownMenu,\n    signedIn: state.user.signedIn,\n    admin: state.user.user.admin,\n    products: state.products.products,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    showSubCat: (bool) => dispatch(showSubCategory(bool)),\n    chosenCategory: (category) => dispatch(selectedCategory(category)),\n    showDropDown: (bool) => dispatch(showDrop(bool)),\n    showSideMenu: (bool) => dispatch(showSide(bool)),\n    clearProds: () => dispatch(clearProducts),\n    getNewProducts: (category) => dispatch(getProducts(category)),\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(NavBar));\n","import { Redirect } from 'react-router-dom';\nimport { isTokenValid } from '../Actions/users.js';\n\nconst PrivateUserRoute = ({ component: Component }) => {\n  let authUser = isTokenValid();\n  if (authUser) {\n    return <Component />;\n  } else return <Redirect to='/' />;\n};\n\nexport default PrivateUserRoute;\n","import { Redirect } from 'react-router-dom';\nimport { isTokenValid } from '../Actions/users.js';\n\nconst AdminRoute = ({ component: Component }) => {\n  let authUser = isTokenValid();\n  if (authUser && authUser.admin) {\n    return <Component />;\n  } else return <Redirect to='/' />;\n};\n\nexport default AdminRoute;\n","/* NPM Packages */\nimport {\n  // BrowserRouter as Router,\n  HashRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from 'react-router-dom';\nimport { Suspense, lazy } from 'react';\nimport LandingPage from './Pages/LandingPage';\nimport React, { Component } from 'react';\nimport Navbar from './Components/NavBar';\nimport { CSSTransition } from 'react-transition-group';\nimport { CircularProgress } from '@material-ui/core';\nimport { connect } from 'react-redux';\nimport PrivateRoute from './Components/PrivateRoute';\nimport AdminRoute from './Components/AdminRoute.js';\n\n/* Css */\n\nimport './App.css';\n\n/* Action creators */\n\nimport { isTokenValid, logUserOut } from './Actions/users.js';\nimport { addToBasket, emptyBasket } from './Actions/products.js';\n\n// Here I am using lazy loading which is code splitting which will only loads components when needed and\n// hopefully should speed up my application\n\nconst Account = lazy(() => import('./Pages/Account'));\nconst AdminProducts = lazy(() => import('./Pages/AdminProducts'));\nconst AdminOrders = lazy(() => import('./Pages/AdminOrders'));\nconst SignIn = lazy(() => import('./Pages/SignIn'));\nconst SignUp = lazy(() => import('./Pages/SignUp'));\nconst Product = lazy(() => import('./Pages/Product'));\nconst ShoppingBasket = lazy(() => import('./Pages/ShoppingBasket'));\nconst MainCategory = lazy(() => import('./Pages/MainCategory'));\nconst NotFound = lazy(() => import('./Components/NotFound'));\nconst Products = lazy(() => import('./Pages/Products'));\nconst OrderDetails = lazy(() => import('./Pages/OrderDetails'));\nconst AdminEditProduct = lazy(() => import('./Pages/AdminEditProduct'));\nconst AdminCreateProduct = lazy(() => import('./Pages/AdminCreateProduct'));\nconst Checkout = lazy(() => import('./Pages/Checkout'));\n\nclass App extends Component {\n  state = {\n    showArrowToTop: false,\n    userTokenExpired: false,\n  };\n\n  // Below I will check if a user is signed in and if so then i will check if the token is valid, if not they will be logged out\n\n  componentDidUpdate = (newProps) => {\n    if (newProps.userSignedIn) {\n      let authenticatedUser = isTokenValid();\n\n      if (!authenticatedUser && this.props.user.signedIn) {\n        this.setState({ userTokenExpired: true });\n        this.props.logOut();\n        let localStorageItems = Object.keys(localStorage);\n        localStorageItems.forEach((item) => {\n          //Below I clear any items in local storage for the basket\n          let re = /^item/;\n          if (re.test(item) === true) {\n            localStorage.removeItem(item);\n          }\n        });\n        // below i am clearing the basket in redux\n        this.props.clearBasket();\n\n        //I will update state to show the user their session has expired and they need to log back in to purchase\n        // or if admin make changes\n      }\n    }\n  };\n\n  tokenExpired = () => {\n    this.setState({ userTokenExpired: true });\n  };\n\n  componentDidMount = () => {\n    // This code below is used to check where the user is on the screen, is there have scrolled down\n    // and cant see the nav bar anymore, an arrow will appear in the bottom right hand corner\n    // which cant be clicked and take them back to the top\n\n    window.addEventListener('scroll', () => {\n      if (window.scrollY > 122) {\n        this.setState({ showArrowToTop: true });\n      }\n      if (window.innerHeight - 122 < window.innerHeight - window.scrollY) {\n        this.setState({ showArrowToTop: false });\n      }\n      //The function below checks if there is jwt token in local storage and if so it will check if it is still\n      // valid\n    });\n\n    // in here I need to make a back-end call which gets all the categories and sub categories and puts them into\n    //redux so this can be used by the category menus\n\n    let { basket, addBasket } = this.props;\n    // here we check if there is something in the basket which means the user has come\n    // from the product screen, if so then add to local storage\n    if (basket.length !== 0) {\n      let localStorageItems = Object.keys(localStorage);\n      localStorageItems.map((item) => {\n        return item !== 'userInfo' && localStorage.removeItem(`${item}`);\n      });\n      basket.map((item, index) => {\n        return localStorage.setItem(`item${index}`, JSON.stringify(item));\n      });\n    }\n\n    // here we check if the page has been refreshed and there is nothing in the basket, if there\n    // is an item in local storage then dispatch it to be added to basket in redux so it can populate this screen\n    let localStorageItems = Object.keys(localStorage);\n    let itemsFromLocalStorage = localStorageItems.filter((item) => {\n      // I found a bug where another one of my websites was also storing local storage which crashed my app, so now I\n      // I am using regExp below to make sure that it is an item I am adding to the basket and not someone elses local\n      // storage items\n      let re = /^item/;\n      return re.test(item) === true;\n    });\n\n    if (basket.length === 0 && itemsFromLocalStorage)\n      // Here I will store the basket in local storage and reload if the user refreshes the page,\n      // I am mapping over the array and adding each item at a time which is what the reducer is expecting\n      itemsFromLocalStorage.map((item) => {\n        let parsedItem = JSON.parse(localStorage.getItem(item));\n        return addBasket(parsedItem);\n      });\n  };\n\n  render() {\n    return (\n      <div>\n        <div className='App'>\n          {this.props.loadingUser ||\n          this.props.loadingProducts ||\n          this.props.loadingOrders ? (\n            <div className={'generic-loading-container'}>\n              <CircularProgress\n                style={{\n                  color: '#f1c40f',\n                  size: '4rem',\n                }}></CircularProgress>\n            </div>\n          ) : null}\n\n          {this.state.userTokenExpired && (\n            <div className='signin-modal'>\n              <div className='signin-popup'>\n                <span>\n                  Your logged in session has expired, please log back in\n                </span>\n                <button\n                  className='closebtn'\n                  onClick={() => this.setState({ userTokenExpired: false })}>\n                  Ok\n                </button>\n              </div>\n            </div>\n          )}\n\n          <Router basename={`${process.env.PUBLIC_URL}`}>\n            <Navbar />\n            <Suspense\n              fallback={\n                <div className='spinner-container'>\n                  <CircularProgress\n                    style={{\n                      color: '#f1c40f',\n                      size: '4rem',\n                    }}></CircularProgress>\n                </div>\n              }>\n              <Switch>\n                <Route exact path='/' component={LandingPage} />\n                {/* {below will redirect the user to the sign in screen if they click on the \n                account button and dont have one} */}\n                <Route exact path='/sign-in' component={SignIn} />\n                <Route exact path='/sign-up/:email' component={SignUp} />\n                <Route exact path='/run' component={MainCategory} />\n                <Route exact path='/cycle' component={MainCategory} />\n                <Route exact path='/swim' component={MainCategory} />\n                <Route exact path='/product/:id' component={Product} />\n                <Route\n                  exact\n                  path='/shopping-basket'\n                  component={ShoppingBasket}\n                />\n\n                <PrivateRoute\n                  exact\n                  path='/account'\n                  component={Account}></PrivateRoute>\n                <PrivateRoute\n                  exact\n                  path='/check-out'\n                  component={Checkout}></PrivateRoute>\n\n                <Route\n                  exact\n                  path='/order/:id'\n                  render={() => {\n                    let authenticatedUser = isTokenValid();\n                    return authenticatedUser ? (\n                      <OrderDetails />\n                    ) : (\n                      <Redirect to='/' />\n                    );\n                  }}\n                />\n\n                <AdminRoute\n                  exact\n                  path='/admin'\n                  component={AdminProducts}></AdminRoute>\n                <AdminRoute\n                  exact\n                  path='/admin/create'\n                  component={AdminCreateProduct}></AdminRoute>\n\n                <Route\n                  exact\n                  path='/admin/product/:id'\n                  render={() => {\n                    let authUser = isTokenValid();\n                    if (authUser && authUser.admin) {\n                      return <AdminEditProduct />;\n                    } else {\n                      <Redirect to='/' />;\n                    }\n                  }}></Route>\n                <AdminRoute\n                  exact\n                  path='/admin-orders'\n                  component={AdminOrders}></AdminRoute>\n                <Route\n                  exact\n                  path='/:category/:type/:subcat'\n                  component={Products}\n                />\n                <Route component={NotFound} />\n              </Switch>\n            </Suspense>\n          </Router>\n        </div>\n        <CSSTransition\n          in={this.state.showArrowToTop}\n          onClick={() => window.scrollTo(0, 0)}\n          timeout={500}\n          classNames='menuarrow'\n          unmountOnExit>\n          <div className='menuarrow'>\n            <i className='fas fa-arrow-circle-up'></i>\n          </div>\n        </CSSTransition>\n      </div>\n      // </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    loadingUser: state.user.loading,\n    loadingProducts: state.products.loading,\n    loadingOrders: state.orders.loading,\n    adminUser: state.user.user.admin,\n    userSignedIn: state.user.signedIn,\n    basket: state.products.basket,\n    user: state.user,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    logOut: () => dispatch(logUserOut()),\n    addAuthenticateduserToRedux: (user) =>\n      dispatch({ type: 'LOGIN_SUCCESS', user: user }),\n    addBasket: (item) => dispatch(addToBasket(item)),\n    clearBasket: () => dispatch(emptyBasket()),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","const initialState = {\n  user: {\n    firstName: null,\n    lastName: null,\n    id: null,\n    token: '',\n    admin: null,\n  },\n  error: null,\n  loading: false,\n  signedIn: false,\n};\n\nfunction usersReducer(state = initialState, action) {\n  switch (action.type) {\n    case 'LOGIN_STARTED':\n      return { ...state, loading: true };\n    case 'USER_LOGGED_OUT':\n      return { ...state, signedIn: false, admin: false };\n    case 'LOGIN_SUCCESS':\n      return {\n        ...state,\n        user: action.user,\n        loading: false,\n        signedIn: true,\n        error: null,\n      };\n    case 'LOGIN_FAIL':\n      return { ...state, error: action.error, loading: false };\n    default:\n      return state;\n  }\n}\n\nexport default usersReducer;\n","const initialState = {\n  loading: false,\n  products: [],\n  showDropDownMenu: false,\n  showSideMenu: false,\n  chosenCategory: 'cycle',\n  showSubCategory: false,\n  chosenSubCategory: 'bikes',\n  selectedProduct: [],\n  basket: [],\n  basketValue: 0,\n  filteredBrands: [],\n  reviewError: null,\n  reviewSuccess: null,\n  searchProducts: null,\n  serverError: null,\n  globalFilterReset: false,\n  filterStock: false,\n  filterBrand: false,\n  filterPrice: false,\n  filterLowerPrice: 0,\n  filterHigherPrice: 0,\n  filterReview: false,\n  productCreatedModal: false,\n  productDeletedModal: false,\n  productEditedModal: false,\n  latestCreatedProductId: '',\n  latestEditedProductId: '',\n\n  categories: {\n    cycle: {\n      bikes: ['Mountain bikes', 'Hybrid bikes', 'Road bikes'],\n      helmets: ['Helmets', 'Protection'],\n    },\n    run: {\n      clothing: ['Tops', 'Legwear', 'Jackets'],\n      footwear: ['Running Shoes', 'Trail Shoes'],\n    },\n    swim: {\n      shorts: ['Swimming shorts', 'Swimming briefs'],\n      swimsuits: ['One piece', 'Two piece'],\n    },\n  },\n};\n\nfunction productsReducer(state = initialState, action) {\n  switch (action.type) {\n    // Products //\n\n    case 'CLEAR_PRODUCTS':\n      return { ...state, products: [] };\n    case 'ALLPRODUCTS_SUCCESS':\n      return { ...state, searchProducts: action.products };\n    case 'PRODUCTS_REQUESTED':\n      return { ...state, loading: true };\n    case 'PRODUCTS_SUCCESS':\n      return { ...state, products: action.products, loading: false };\n    case 'PRODUCT_SUCCESS':\n      return { ...state, selectedProduct: action.product, loading: false };\n    case 'SEARCH_PRODUCTS':\n      let productMatches = state.searchProducts.filter((product) =>\n        product.name.toLowerCase().includes(action.searchValue.toLowerCase())\n      );\n      return { ...state, searchProducts: productMatches };\n    case 'PRODUCTS_FAIL':\n      return { ...state, serverError: action.error, loading: false };\n    case 'ALLPRODUCTS_FAIL':\n      return { ...state, serverError: action.error, loading: false };\n    case 'CATEGORY_CHOSEN':\n      return { ...state, chosenCategory: action.category };\n    case 'SHOW_DROP_DOWN':\n      return { ...state, showDropDownMenu: action.bool };\n    case 'SHOW_SIDE_MENU':\n      return { ...state, showSideMenu: action.bool };\n    case 'SHOW_SUB_CATEGORY':\n      return { ...state, showSubCategory: action.bool };\n    case 'CHOSEN_PRODUCT':\n      let product = state.products.filter(\n        (product) => product._id === action.id\n      );\n      return { ...state, selectedProduct: product[0] };\n    case 'SUB_CAT_SELECTED':\n      return { ...state, chosenSubCategory: action.subcat };\n    case 'CLEAR_SELECTED_PRODUCTS':\n      return { ...state, selectedProduct: [] };\n\n    // Filters //\n    case 'FILTERED_BRANDS':\n      return { ...state, filteredBrands: action.brands };\n    case 'CHOSEN_BRAND':\n      console.log(action);\n      let productsByBrand = [...state.products];\n      let products = productsByBrand.filter(\n        (product) => product.brand === action.brand\n      );\n      return { ...state, products, filterBrand: action.brand };\n    case 'RESET_ALL_FILTERS':\n      console.log(action.bool);\n      if (action.bool) {\n        return {\n          ...state,\n          globalFilterReset: action.bool,\n          filterStock: false,\n          filterBrand: false,\n          filterPrice: false,\n          filterReview: false,\n          filterHigherPrice: 0,\n          filterLowerPrice: 0,\n        };\n      } else {\n        return {\n          ...state,\n          globalFilterReset: action.bool,\n        };\n      }\n\n    case 'FILTERED_IN_STOCK':\n      let productsInStock = state.products.filter(\n        (product) => product.stock !== 0\n      );\n      console.log(productsInStock);\n      return { ...state, products: productsInStock, filterStock: true };\n    case 'SORT_BY_BEST_REVIEWS':\n      return { ...state, products: action.products, filterReview: true };\n    case 'CLEAR_REVIEW_FILTER':\n      return { ...state, products: action.products };\n    case 'UPDATE_PRICE_RANGE':\n      if (action.higher === true) {\n        return {\n          ...state,\n          filterHigherPrice: action.price,\n        };\n      } else {\n        return {\n          ...state,\n          filterLowerPrice: action.price,\n        };\n      }\n    case 'FILTER_PRICE_RANGE':\n      let productsCopy = state.products.filter((product) => {\n        return (\n          (product.price >= action.lower) & (product.price <= action.higher)\n        );\n      });\n      return { ...state, products: productsCopy, filterPrice: true };\n\n    // Basket //\n    case 'UPDATE_BASKET':\n      let updateBasketCopy = [...state.basket];\n      updateBasketCopy[action.noPos].quantity = action.quantity;\n      return { ...state, basket: updateBasketCopy };\n    case 'EMPTY_BASKET':\n      return { ...state, basket: [] };\n    case 'DELETE_ITEM_FROM_BASKET':\n      let newBasketCopy = [...state.basket];\n      let indexOfItem = newBasketCopy.findIndex(\n        (item) => item.id === action.id && item.size === action.size\n      );\n      newBasketCopy.splice(indexOfItem, 1);\n      return { ...state, basket: newBasketCopy };\n    case 'ADD_TO_BASKET':\n      let basketCopy = [...state.basket];\n      basketCopy.push(action.itemInfo);\n      //This calculation below gives the total value of the cart whic is\n      // by the basket UI to shown the amount\n      let totalBasketValue =\n        state.basket.length === 0\n          ? action.itemInfo.price\n          : action.itemInfo.price +\n            state.basket.reduce((total, basketItem) => {\n              return total + basketItem.price * basketItem.quantity;\n            }, action.itemInfo.price);\n      return { ...state, basket: basketCopy, basketValue: totalBasketValue };\n\n    //Review //\n\n    case 'CLEAR_REVIEW_STATUS':\n      return { ...state, reviewError: null, reviewSuccess: null };\n    case 'REVIEW_SENT':\n      return { ...state, loading: true, reviewError: null };\n    case 'REVIEW_SUCCESS':\n      return { ...state, loading: false, reviewSuccess: true };\n    case 'REVIEW_FAIL':\n      return {\n        ...state,\n        loading: false,\n        reviewError: action.error,\n        reviewSuccess: false,\n      };\n\n    // Admin, create,edit, delete products //\n    case 'CREATE_PRODUCT':\n      return { ...state, loading: true };\n    case 'EDIT_PRODUCT':\n      return { ...state, loading: true };\n    case 'PRODUCT_CREATED_SUCCESS':\n      return {\n        ...state,\n        loading: false,\n        productCreatedModal: true,\n        latestCreatedProductId: action.productId,\n      };\n    case 'PRODUCT_EDIT_SUCCESS':\n      return {\n        ...state,\n        loading: false,\n        productEditedModal: true,\n        latestEditedProductId: action.productId,\n      };\n    case 'CLOSE_ADMIN_PRODUCT_MODAL':\n      return { ...state, productCreatedModal: false };\n    case 'UPDATE_PRODUCT_IN_REDUX_STATE':\n      let { key, value } = action;\n      return {\n        ...state,\n        ...state.selectedProduct,\n        [key]: value,\n      };\n\n    case 'DELETE_PRODUCT':\n      return { ...state, loading: true };\n    case 'PRODUCT_DELETED_SUCCESS':\n      return { ...state, productDeletedModal: true, loading: false };\n    case 'CLOSE_ADMIN_DELETE_MODAL':\n      return {\n        ...state,\n        productDeletedModal: false,\n        chosenCategory: action.category,\n      };\n    case 'CLOSE_ADMIN_EDIT_MODAL':\n      return {\n        ...state,\n        productEditedModal: false,\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport default productsReducer;\n","const initialState = {\n  loading: false,\n  orders: [],\n  order: null,\n  showOrdersModal: false,\n  errors: null,\n};\n\nfunction ordersReducer(state = initialState, action) {\n  switch (action.type) {\n    case 'ORDER_SENT':\n      return { ...state, loading: true };\n    case 'ORDER_SUCCESS':\n      return { ...state, loading: false, showOrdersModal: true, errors: null };\n    case 'ORDER_LIST_RECEIVED':\n      return { ...state, loading: false, orders: action.orders };\n    case 'ADMIN_ALL_USER_ORDERS_SUCCESS':\n      return { ...state, loading: false, orders: action.orders };\n\n    case 'ORDER_FAIL':\n      return {\n        ...state,\n        loading: false,\n        showOrdersModal: true,\n        errors: 'Network error, please try again',\n      };\n    case 'INDIVDUAL_ORDER_SUCCESS':\n      return { ...state, loading: false, order: action.order[0] };\n\n    case 'CLOSE_MODAL':\n      return { ...state, showOrdersModal: false, error: null };\n\n    default:\n      return state;\n  }\n}\n\nexport default ordersReducer;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport { createStore, combineReducers, applyMiddleware } from 'redux';\nimport usersReducer from './reducers/usersReducer';\nimport productsReducer from './reducers/productsReducer';\nimport ordersReducer from './reducers/ordersReducer';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport ReduxThunk from 'redux-thunk';\n\nlet rootReducer = combineReducers({\n  user: usersReducer,\n  products: productsReducer,\n  orders: ordersReducer,\n});\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(applyMiddleware(ReduxThunk))\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n\n  document.getElementById('root')\n);\n"],"sourceRoot":""}